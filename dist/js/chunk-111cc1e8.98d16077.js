(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-111cc1e8"],{"0157":function(a,e,t){},3207:function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("CCard",[t("CCardHeader",[t("p",[t("b",[a._v("Daftar")]),a._v(" Sales")])]),t("CCardBody",[t("CRow",[t("CCol",{attrs:{sm:"12"}},[t("v-client-table",{attrs:{data:a.sales,columns:a.tableFields,options:a.tableOptions,id:"sales_table"},scopedSlots:a._u([{key:"aksi",fn:function(e){return t("div",{staticClass:"d-flex justify-content-center"},[2!=a.data.level?t("button",{ref:"el",staticClass:"text-danger btn btn-secondary btn-sm",attrs:{id:e.row.id},on:{click:function(t){return a.deleteSales(e.row.id)}}},[t("i",{staticClass:"fa fa-trash"})]):a._e()])}}])})],1)],1)],1)],1)],1)},o=[],s={name:"Sales",data:function(){return{sales:[],id:1,data:"",tableFields:["no","no_karyawan","nama_karyawan","email","wa_hp","aksi"],tableOptions:{perPage:10,pagination:{chunk:10,dropdown:!1,edge:!0,nav:"fixed"},headings:{no:"No",no_karyawan:"No Karyawan",nama_karyawan:"Nama Karyawan",email:"Email",aksi:"Aksi"},sortable:["no","email","wa_hp"],filterable:["email"],columnsClasses:{no:"text-center align-middle",no_pegawai:"align-middle",nama_pegawai:"align-middle",email:"align-middle",aksi:"text-center align-middle"}}}},methods:{getData:function(){var a=this;this.$http.get("https://young-temple-67589.herokuapp.com/api/sales",{headers:{Authorization:"bearer "+localStorage.getItem("token")},redirect:"follow"}).then((function(e){console.log(e.data),a.sales=e.data;for(var t=0;t<a.sales.length;t++)a.sales[t].no=t+1})).catch((function(e){return 401!=e.response.status?(a.$swal("Tidak bisa ambil data","hubungi pengembangnya...","danger"),setTimeout((function(){a.$swal.close(),a.$router.replace({path:"/login"})}),1500),a.label="Update Karyawan",console.log(e),!1):(a.$store.dispatch("logout").then((function(){var e=window.location.href;e=e.split("/"),localStorage.setItem("prevPath",e[e.length-1]),a.$swal("Sesi login kamu sudah habis","login kagi yah...","warning"),setTimeout((function(){a.$swal.close(),a.$router.replace({path:"/login"})}),1500)})).catch((function(e){return a.$swal("Tidak bisa ambil data","hubungi pengembangnya...","danger"),setTimeout((function(){a.$swal.close(),a.$router.replace({path:"/login"})}),1500),!1})),!1)}))},deleteSales:function(a){var e=this;this.$swal({title:"Kamu yakin? :(",text:"Kamu akan akan menghapus data ini permanen",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t?e.$http.delete("https://young-temple-67589.herokuapp.com/api/sales/"+a,{headers:{Authorization:"bearer "+localStorage.getItem("token")},redirect:"follow"}).then((function(a){e.smallModal=!1,alert(a.data.message),e.getData()})).catch((function(a){if(console.error(a.response),401==a.response.status)e.$store.dispatch("logout").then((function(){var a=window.location.href;a=a.split("/"),localStorage.setItem("prevPath",a[a.length-1]),alert("Session Login kamu sudah habis! silahkan login kembali")})).then((function(){e.$router.replace({path:"/login"})})).catch((function(a){return alert("An error occured when get data :("),!1}));else if(500===a.response.status)return e.smallModal=!1,alert("Something wrong with the server"),!1;return!1})):e.$swal.close()}))}},created:function(){this.getData()},mounted:function(){this.data=this.$store.getters.userData,console.log(this.data)}},i=s,l=(t("8512"),t("2877")),r=Object(l["a"])(i,n,o,!1,null,null,null);e["default"]=r.exports},8512:function(a,e,t){"use strict";var n=t("0157"),o=t.n(n);o.a}}]);
//# sourceMappingURL=chunk-111cc1e8.98d16077.js.map