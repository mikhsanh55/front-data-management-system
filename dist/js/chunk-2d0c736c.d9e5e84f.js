(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c736c"],{5050:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("CCard",[e("CCardHeader",[e("b",[t._v("Edit")]),t._v(" Stock In Out ")]),e("CCardBody",[e("CForm",{staticClass:"mt-4"},[e("CRow",{staticClass:"mx-auto d-flex justify-content-center"},[e("CCol",{attrs:{sm:"8"}},[e("CInput",{attrs:{type:"text",label:"Nama Barang",disable:"",horizontal:"",placeholder:"Masukan Nama Barang"},model:{value:t.request_po.nama_barang,callback:function(a){t.$set(t.request_po,"nama_barang",a)},expression:"request_po.nama_barang"}}),e("CInput",{attrs:{type:"text",label:"Type Barang",disable:"",horizontal:"",placeholder:"Masukan Type Barang"},model:{value:t.request_po.type,callback:function(a){t.$set(t.request_po,"type",a)},expression:"request_po.type"}}),e("CInput",{attrs:{type:"number",label:"Quantity",horizontal:"",description:t.validator.qty_msg,"is-valid":t.validator.qty,autocomplete:"qty",placeholder:"Masukan Quantity"},on:{input:function(a){t.barang.qty.length<1?t.validator.qty=!1:t.validator.qty=!0}},model:{value:t.request_po.qty,callback:function(a){t.$set(t.request_po,"qty",a)},expression:"request_po.qty"}}),e("CInput",{attrs:{type:"date",label:"Tanggal Barang",horizontal:"",placeholder:"Masukan Tanggal Barang",description:t.validator.tanggal_msg,"is-valid":t.validator.tanggal},model:{value:t.request_po.tanggal,callback:function(a){t.$set(t.request_po,"tanggal",a)},expression:"request_po.tanggal"}}),e("CTextarea",{attrs:{label:"Alasan",horizontak:"",placeholder:"Masukan alasan"},model:{value:t.request_po.alasan,callback:function(a){t.$set(t.request_po,"alasan",a)},expression:"request_po.alasan"}})],1)],1)],1)],1),e("CCardFooter",[e("CButton",{attrs:{type:"submit",color:"primary"},on:{click:function(a){return a.preventDefault(),t.updateStockInOut(a)}}},[t._v(" "+t._s(t.label)+" ")])],1)],1)],1)},o=[],r={name:"EditStockInOut",data:function(){return{label:"Update Stock In Out",request_po:{nama_barang:null,type:null,qty:null,alasan:null},validator:{qty:null,qty_msg:null,tanggal:null,tanggal_msg:null},errors:[]}},methods:{getData:function(){var t=this,a=new Headers;a.append("Authorization","bearer "+localStorage.token);var e={method:"POST",headers:a,redirect:"follow"};fetch("https://young-temple-67589.herokuapp.com/api/stock/"+this.$route.params.id,e).then((function(t){return t.json()})).then((function(a){40001==a.errcode&&t.$store.dispatch("logout").then((function(){var t=window.location.href;t=t.split("/"),localStorage.setItem("prevPath",t[t.length-1]),alert("Session Login kamu sudah habis! silahkan login kembali")})).then((function(){t.$router.replace({path:"/login"})})).catch((function(t){return alert("An error occured when get data :("),!1})),console.log(a),t.request_po=a})).catch((function(a){return 401==a.response.status?t.$store.dispatch("logout").then((function(){var t=window.location.href;t=t.split("/"),localStorage.setItem("prevPath",t[t.length-1]),alert("Session Login kamu sudah habis! silahkan login kembali")})).then((function(){t.$router.replace({path:"/login"})})).catch((function(t){return alert("An error occured when get data :("),!1})):(alert("Maaf tidak bisa mengambil data :("),console.error(a)),!1}))},updateData:function(){var t=this;if(this.errors=[],this.request_po.qty||(this.validator.qty=!1,this.validator.qty_msg="Harap isi quantity barang",this.errors.push("qty barang kosong")),this.request_po.tanggal||(this.validator.tanggal=!1,this.validator.tanggal_msg="Harap isi harga jual barang",this.errors.push("tanggal barang kosong")),this.request_po.length)return this.label="Update Stock In Out",console.log(this.errors),window.scrollBy({top:-500,left:0,behavior:"smooth"}),!1;this.label="Loading...",this.$http.post("https://young-temple-67589.herokuapp.com/api/stock/edit/"+this.$route.params.id,this.request_po,{headers:{Authorization:"bearer "+localStorage.token}}).then((function(a){40001==a.errcode?t.$store.dispatch("logout").then((function(){var t=window.location.href;t=t.split("/"),localStorage.setItem("prevPath",t[t.length-1]),alert("Session Login kamu sudah habis! silahkan login kembali")})).then((function(){t.$router.replace({path:"/login"})})).catch((function(t){return alert("An error occured when get data :("),!1})):(alert("Update Data Stock In Out berhasil!"),t.$router.push("/stock-in-out"))})).catch((function(a){if(t.label="Update Stock In Out",401!=a.response.status)return alert("Maaf, Tidak bisa mengupdate data stock in out"),!1;t.$store.dispatch("logout").then((function(){var t=window.location.href;t=t.split("/"),localStorage.setItem("prevPath",t[t.length-1]),alert("Session Login kamu sudah habis! silahkan login kembali")})).then((function(){t.$router.replace({path:"/login"})})).catch((function(t){return alert("An error occured when get data :("),!1}))}))}},created:function(){this.getData()}},l=r,s=e("2877"),i=Object(s["a"])(l,n,o,!1,null,null,null);a["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0c736c.d9e5e84f.js.map