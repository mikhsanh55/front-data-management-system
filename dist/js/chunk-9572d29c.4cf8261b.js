(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9572d29c"],{"06f1":function(t,a,e){},2496:function(t,a,e){"use strict";var n=e("06f1"),o=e.n(n);o.a},"8e44":function(t,a,e){"use strict";function n(t,a,e,n,o){return new Promise((function(s,r){t.$http.post(a,e,n).then((function(t){var a=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.ms-excel"})),e=document.createElement("a");e.href=a,e.setAttribute("download",o),document.body.appendChild(e),e.click()})).then((function(){s()})).catch((function(t){r(t)}))}))}function o(t,a,e,n){return new Promise((function(o,s){t.$http.get(a,e).then((function(t){var a=URL.createObjectURL(new Blob([t.data],{type:"application/pdf"})),e=document.createElement("a");e.href=a,e.setAttribute("download",n),document.body.appendChild(e),e.click()})).then((function(){o()})).catch((function(t){s(t)}))}))}function s(t,a,e,n){return new Promise((function(t,n){fetch(a,e).then((function(t){return t.json()})).then((function(a){return t(a)})).catch((function(t){return n(t)}))}))}function r(t){return new Promise((function(a,e){t.$http.get("https://young-temple-67589.herokuapp.com/api/po",{headers:{Authorization:"bearer "+localStorage.token}}).then((function(t){for(var a=[],e=[],n=0;n<t.data.length;n++){var o=new Date(t.data[n].date_line),s=new Date(o.setDate(o.getDate()-2));a.push({date:s,data:t.data[n],link:"/po/"+t.data[n].id})}for(var r=0;r<a.length;r++){var i=new Date,l=new Date(a[r].date);i==l&&e.push({date:a[r].date,data:a[r]})}return localStorage.setItem("notif",JSON.stringify(e)),e})).then((function(t){return a(t)})).catch((function(t){return e(t)}))}))}e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"d",(function(){return s})),e.d(a,"a",(function(){return r}))},9089:function(t,a,e){t.exports=e.p+"img/default.0dd67022.svg"},ba32:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("CCard",[n("CCardHeader",[n("b",[t._v("Data")]),t._v(" Purchase Order ")]),n("CCardBody",[n("CRow",{staticClass:"mx-auto d-flex justify-content-center"},[n("CCol",{staticClass:"mt-4",attrs:{sm:"8"}},[n("table",{staticClass:"table table-bordered table-striped"},[n("tr",[n("th",{staticClass:"w-50"},[t._v("Nama Sales")]),n("td",[t._v(t._s(t.po.nama_sales))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Nama Konsumen")]),n("td",[t._v(t._s(t.po.nama_konsumen))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Nama Kurir")]),n("td",[t._v(t._s(t.po.nama_kurir))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("No PO")]),n("td",[t._v(t._s(t.po.no_po))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Tanggal PO Masuk")]),n("td",[t._v(t._s(t.po.tgl_po_masuk))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Tanggal PO")]),n("td",[t._v(t._s(t.po.date))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Tanggal Pengiriman")]),n("td",[t._v(t._s(t.po.date_line))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("TOP")]),n("td",[t._v(t._s(t.po.jatuh_tempo))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Keterangan")]),n("td",[t._v(t._s(t.po.keterangan))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Tax Rate")]),n("td",[t._v(t._s(t.po.tax_rate))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Sales Fee")]),n("td",[t._v(t._s(t.po.sales_fee))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Other")]),n("td",[t._v(t._s(t.po.other))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("No Surat Jalan")]),n("td",[t._v(t._s(t.po.no_surat_jalan))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("No Invoice")]),n("td",[t._v(t._s(t.po.no_invoice))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Catatan")]),n("td",[t._v(t._s(t.po.catatan))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Status")]),1==t.po.status?n("td",[t._v("Request")]):2==t.po.status?n("td",[t._v("Proses")]):3==t.po.status?n("td",[t._v("Pengiriman")]):4==t.po.status?n("td",[t._v("Sukses")]):5==t.po.status?n("td",[t._v("Batal")]):t._e()]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Sub Total")]),n("td",[t._v("Rp "+t._s(t._f("formatMoney")(t.po.sub_total)))])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Discount")]),n("td")]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Sales Tax Rate")]),n("td",[t._v(" "+t._s(t.po.sales_tax_rate)+" ")])]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Sales Tax")]),n("td")]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Other Cost")]),n("td")]),n("tr",[n("th",{staticClass:"w-50"},[t._v("Grand Total")]),n("td")])])])],1),n("hr",{staticClass:"text-center w-75"}),n("br"),n("CRow",[n("CCol",{attrs:{sm:"12"}},[n("v-client-table",{staticClass:"m-4",attrs:{data:t.po_barang,columns:t.tableFields,options:t.tableOptions,id:"barang_tables"},scopedSlots:t._u([{key:"foto",fn:function(t){return n("div",{},["https://young-temple-67589.herokuapp.com/"+t.row.foto==1?n("div",{staticClass:"mx-auto d-flex justify-content-center"},[n("img",{staticStyle:{"border-radius":"50%"},attrs:{src:"https://young-temple-67589.herokuapp.com/"+t.row.foto}})]):n("div",{staticClass:"mx-auto d-flex justify-content-center"},[n("img",{staticClass:"img-thumbnail",staticStyle:{"border-radius":"50%",width:"35px",height:"35px"},attrs:{src:e("9089")}})])])}}])})],1)],1)],1)],1)],1)},o=[],s=e("8e44"),r={name:"DetailPO",data:function(){return{tableFields:["no","foto","kode_barang","nama_barang","spesifikasi","stock"],tableOptions:{perPage:10,pagination:{chunk:10,dropdown:!1,edge:!0,nav:"fixed"},headings:{no:"No",foto:"Foto",kode_barang:"Kode Barang",nama_barang:"Nama Barang",spesifikasi:"Spesifikasi Barang",stock:"Stock"},sortable:["nama_barang"],filterable:["nama_barang","kode_barang","spesifikasi","no"],columnsClasses:{no:"text-center align-middle",foto:"text-center align-middle",kode_barang:"align-middle",nama_barang:"align-middle",spesifikasi:"align-middle",stock:"text-center align-middle"}},po_barang:[],info_po:"",info_barang_po:[],po:{nama_sales:null,nama_konsumen:null,nama_kurir:null,no_po:null,date:null,date_line:null,jatuh_tempo:null,keterangan:null,tax_rate:null,sales_fee:null,other:null,no_surat_jalan:null,no_invoice:null,status:null,catatan:null,tgl_po_masuk:null,sub_total:0,sales_tax_rate:0,disc:0}}},methods:{getData:function(){var t=this,a=new Headers;a.append("Authorization","bearer "+localStorage.token);var e={method:"POST",headers:a,redirect:"follow"};fetch("https://young-temple-67589.herokuapp.com/api/po/"+this.$route.params.id,e).then((function(t){return t.json()})).then((function(a){console.log(a),t.po=a,t.po.sub_total=0,t.po.sales_tax_rate=0})).catch((function(t){return console.error(t),!1}))},getDataTable:function(){var t=this;return new Promise((function(a,e){t.$http.post("https://young-temple-67589.herokuapp.com/api/order/barang/po/detail/"+t.$route.params.id,{headers:{Authorization:"bearer "+localStorage.token}}).then((function(e){var n=[];t.info_po=e.data,t.info_po.forEach((function(a,e){Object(s["d"])(t,"https://young-temple-67589.herokuapp.com/api/barang/"+a.id_barang,{method:"POST",headers:{Authorization:"bearer "+localStorage.token}},"POST").then((function(o){a.nama_barang=o.nama_barang,a.kode_barang=a.spesifikasi=o.spesifikasi,a.foto=n.push({no:++e,foto:"https://young-temple-67589.herokuapp.com/"+o.foto,kode_barang:o.kode_barang,nama_barang:o.nama_barang,spesifikasi:o.spesifikasi,stock:o.stock}),t.po.sub_total+=o.harga_jual,t.po.sales_tax_rate+=0}))})),a(n)})).catch((function(t){e(t)}))}))}},filters:{formatMoney:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{a=Math.abs(a),a=isNaN(a)?2:a;var o=t<0?"-":"",s=parseInt(t=Math.abs(Number(t)||0).toFixed(a)).toString(),r=s.length>3?s.length%3:0;return o+(r?s.substr(0,r)+n:"")+s.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(a?e+Math.abs(t-s).toFixed(a).slice(2):"")}catch(i){console.log(i)}}},created:function(){var t=this;this.getData(),this.getDataTable().then((function(a){t.po_barang=a}))}},i=r,l=(e("2496"),e("2877")),c=Object(l["a"])(i,n,o,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-9572d29c.4cf8261b.js.map