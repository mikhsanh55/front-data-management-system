(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8c88956"],{"8e44":function(t,e,a){"use strict";function n(t,e,a,n,r){return new Promise((function(i,o){t.$http.post(e,a,n).then((function(t){var e=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.ms-excel"})),a=document.createElement("a");a.href=e,a.setAttribute("download",r),document.body.appendChild(a),a.click()})).then((function(){i()})).catch((function(t){o(t)}))}))}function r(){var t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t}function i(t,e,a){return new Promise((function(n,i){var o=r();o.responseType="json","withCredentials"in o?o.open("POST",t,!0):"undefined"!=typeof XDomainRequest?(o=new XDomainRequest,o.open("POST",t)):o=null,o||i(),o.setRequestHeader("Authorization","bearer "+localStorage.token),o.onload=function(){var t=URL.createObjectURL(new Blob([o.response],{type:"application/vnd.ms-excel"})),e=document.createElement("a");e.href=t,e.setAttribute("download",a),document.body.appendChild(e),e.click(),n()},o.onerror=function(){i()},o.send(e)}))}function o(t,e,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"get";return new Promise((function(i,o){"get"==r?t.$http.get(e,a).then((function(t){var e=URL.createObjectURL(new Blob([t.data],{type:"application/pdf"})),a=document.createElement("a");a.href=e,a.setAttribute("download",n),document.body.appendChild(a),a.click()})).then((function(){i()})).catch((function(t){o(t)})):t.$http.post(e,a).then((function(t){var e=URL.createObjectURL(new Blob([t.data],{type:"application/pdf"})),a=document.createElement("a");a.href=e,a.setAttribute("download",n),document.body.appendChild(a),a.click()})).then((function(){i()})).catch((function(t){o(t)}))}))}function u(t){return new Promise((function(e,a){t.$http.get(localStorage.base_api+"po",{headers:{Authorization:"bearer "+localStorage.token}}).then((function(t){for(var e=[],a=[],n=0;n<t.data.length;n++){var r=new Date(t.data[n].date_line),i=new Date(r.setDate(r.getDate()-2));e.push({date:i,data:t.data[n],link:"po/detail/"+t.data[n].id})}for(var o=0;o<e.length;o++){var u=new Date,l=new Date(e[o].date);u==l&&a.push({date:e[o].date,data:e[o]})}return localStorage.setItem("notif",JSON.stringify(e)),e})).then((function(t){return e(t)})).catch((function(t){return a(t)}))}))}function l(t,e){return new Promise((function(a,n){var r=-1;Promise.all(t.map((function(t){return r++,fetch(t,e[r])}))).then((function(t){return Promise.all(t.map((function(t){return t.json()})))})).then((function(t){a(t)})).catch((function(t){return n(t)}))}))}function s(t,e,a,n){return new Promise((function(n,r){fetch(e,a).then((function(e){return 401==e.status?(t.$swal("Maaf sesi login kamu sudah habis","silahkan login lagi yah...","warning"),setTimeout((function(){t.$swal.close(),t.$store.dispatch("logout").then((function(){return t.$router.replace("/login")}))}),1500),!1):500==e.status?(t.$swal("Tidak bisa mengambil data","Mohon hubungi pengembangnya...","error"),setTimeout((function(){t.$swal.close()}),1500),!1):e.json()})).then((function(t){return n(t)})).catch((function(t){return r(t)}))}))}function c(t,e,a){return new Promise((function(n,r){fetch(e,a).then((function(e){return 401==e.status?(t.$swal("Maaf sesi login kamu sudah habis","silahkan login lagi yah...","warning"),setTimeout((function(){t.$swal.close(),t.$store.dispatch("logout").then((function(){return t.$router.replace("/login")}))}),1500),!1):500==e.status?(t.$swal("Tidak bisa menghapus data","Mohon hubungi pengembangnya...","error"),setTimeout((function(){t.$swal.close()}),1500),!1):e.json()})).then((function(t){return n(t)})).catch((function(t){return r(t)}))}))}a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return u})),a.d(e,"f",(function(){return l})),a.d(e,"g",(function(){return s})),a.d(e,"b",(function(){return c}))},f5f8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CCard",[a("CCardHeader",[a("p",[a("b",[t._v("Edit")]),t._v(" Kurir")])]),a("CCardBody",[a("CForm",{staticClass:"mt-4"},[a("CRow",{staticClass:"mx-auto d-flex justify-content-center"},[a("CCol",{attrs:{sm:"8"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:1==t.validMsg,expression:"validMsg == true"}],staticClass:"alert alert-success"},[a("small",[t._v("Update Data Kurir berhasil!")])]),a("CInput",{attrs:{type:"text",description:"Masukan Nomer Kurir",autocomplete:"no_kurir",label:"Nomer Kurir",horizontal:"",placeholder:"Masukan Nomer Kurir"},model:{value:t.kurir.no_kurir,callback:function(e){t.$set(t.kurir,"no_kurir",e)},expression:"kurir.no_kurir"}}),a("CInput",{attrs:{type:"text",description:"Masukan Nama Kurir",autocomplete:"nama_kurir",label:"Nama Kurir",horizontal:"",placeholder:"Masukan Nama Kurir"},model:{value:t.kurir.nama_kurir,callback:function(e){t.$set(t.kurir,"nama_kurir",e)},expression:"kurir.nama_kurir"}}),a("CSelect",{attrs:{label:"Jenis Kelamin",horizontal:"",options:t.jk},model:{value:t.kurir.jk,callback:function(e){t.$set(t.kurir,"jk",e)},expression:"kurir.jk"}}),a("CInput",{attrs:{type:"email",description:"Masukan Email",autocomplete:"email`",label:"Nama email",horizontal:"",placeholder:"Masukan email"},model:{value:t.kurir.email,callback:function(e){t.$set(t.kurir,"email",e)},expression:"kurir.email"}}),a("CInput",{attrs:{type:"text",description:"Masukan Whatsapp",autocomplete:"whatsapp",label:"Whatsapp",horizontal:"",placeholder:"Masukan Whatsapp"},model:{value:t.kurir.whatsapp,callback:function(e){t.$set(t.kurir,"whatsapp",e)},expression:"kurir.whatsapp"}}),a("CInput",{attrs:{type:"text",description:"Masukan KTP",autocomplete:"ktp",label:"KTP",horizontal:"",placeholder:"Masukan KTP"},model:{value:t.kurir.ktp,callback:function(e){t.$set(t.kurir,"ktp",e)},expression:"kurir.ktp"}}),a("CTextarea",{attrs:{label:"Masukan Alamat",placeholder:"Masukan Alamat",horizontal:"",rows:"3"},model:{value:t.kurir.alamat,callback:function(e){t.$set(t.kurir,"alamat",e)},expression:"kurir.alamat"}}),a("CInput",{attrs:{type:"date",description:"Masukan Tanggal Masuk Kurir",autocomplete:"tgl_masuk",label:"Tanggal Masuk Kurir",horizontal:"",placeholder:"Masukan Tanggal Masuk Kurir"},model:{value:t.kurir.tgl_masuk,callback:function(e){t.$set(t.kurir,"tgl_masuk",e)},expression:"kurir.tgl_masuk"}}),a("CInput",{attrs:{type:"text",description:"Masukan NPWP",autocomplete:"npwp",label:"NPWP",horizontal:"",placeholder:"Masukan NPWP"},model:{value:t.kurir.npwp,callback:function(e){t.$set(t.kurir,"npwp",e)},expression:"kurir.npwp"}}),a("CInput",{attrs:{type:"date",description:"Masukan No Rekening",autocomplete:"no_rekening",label:"No Rekening",horizontal:"",placeholder:"Masukan No Rekening"},model:{value:t.kurir.no_rekening,callback:function(e){t.$set(t.kurir,"no_rekening",e)},expression:"kurir.no_rekening"}}),a("CSelect",{attrs:{label:"Jabatan",horizontal:"",options:t.jabatan},model:{value:t.kurir.jabatan,callback:function(e){t.$set(t.kurir,"jabatan",e)},expression:"kurir.jabatan"}})],1)],1)],1)],1),a("CCardFooter",{staticClass:"d-flex justify-content-center mt-4"},[a("CButton",{attrs:{type:"submit",color:"primary"},on:{click:function(e){return e.preventDefault(),t.addKurir(e)}}},[t._v(" Tambah Kurir ")])],1)],1)],1)},r=[],i=a("8e44"),o={name:"EditKurir",data:function(){return{kurir:{no_kurir:null,nama_kurir:null,jk:null,email:null,whatsapp:null,ktp:null,alamat:null,tgl_masuk:null,npwp:null,no_rekening:null,jabatan:null},jk:[{value:1,label:"Laki-laki"},{value:0,label:"Perempuan"}],jabatan:[{value:0,label:"Kurir Daerah"},{value:1,label:"Kurir Nasional"}],validMsg:!1,errors:[]}},methods:{getData:function(){var t=this,e=new Headers;e.append("Authorization","bearer "+localStorage.token);var a={method:"POST",headers:e,redirect:"follow"};Object(i["g"])(this,"https://young-temple-67589.herokuapp.com/api/kurir/"+this.$route.params.id,a).then((function(e){console.log(e.data),t.kurir=e.data})).catch((function(t){return console.log(t),!1}))},addKurir:function(){var t=this;if(this.errors=[],this.kurir.no_kurir||this.errors.push("Nomer Kurir Wajib diisi"),this.kurir.nama_kurir||this.errors.push("Nama Kurir Wajib diisi"),this.kurir.jk||this.errors.push("Jenis kelamin Wajib diisi"),this.kurir.email||this.errors.push("Email Wajib diisi"),this.kurir.whatsapp||this.errors.push("Whatsapp Wajib diisi"),this.kurir.ktp||this.errors.push("Alamat Wajib diisi"),this.kurir.tgl_masuk||this.errors.push("Tanggal Masuk Wajib diisi"),this.kurir.npwp||this.errors.push("Nomer NPWP Wajib diisi"),this.kurir.no_rekening||this.errors.push("Nomer rekening Wajib diisi"),this.kurir.jabatan||this.errors.push("Jabatan Wajib diisi"),this.errors.length)return window.scrollBy({top:-500,left:0,behavior:"smooth"}),!1;this.$http.post("http://localhost:3000/kurir",this.kurir).then((function(){t.$router.push("/kurir")})).catch((function(t){return console.log(t),!1}))}},created:function(){1!=localStorage.level&&2!=localStorage.level&&this.$router.push("/"),this.getData()}},u=o,l=a("2877"),s=Object(l["a"])(u,n,r,!1,null,null,null);e["default"]=s.exports}}]);
//# sourceMappingURL=chunk-a8c88956.8eb8a4bf.js.map