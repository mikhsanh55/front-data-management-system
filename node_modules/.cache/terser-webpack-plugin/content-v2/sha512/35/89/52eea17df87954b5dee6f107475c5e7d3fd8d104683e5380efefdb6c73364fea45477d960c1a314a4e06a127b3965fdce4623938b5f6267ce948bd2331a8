{"map":{"version":3,"sources":["js/chunk-2d238407.cccfa5a4.js"],"names":["window","push","ff1b","module","__webpack_exports__","__webpack_require__","r","render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","sm","directives","name","rawName","value","validMsg","expression","label","horizontal","options","karyawan","description","autocomplete","on","update:value","assignKaryawan","model","user","callback","$$v","$set","type","validator","email_msg","is-valid","email","placeholder","readonly","input","$event","length","password_msg","password","jabatan","assignJabatan","color","click","preventDefault","addUser","_s","staticRenderFns","AddUservue_type_script_lang_js_","data","id_karyawan","level","data_karyawan","errors","methods","getJabatan","_this","$http","get","localStorage","base_api","headers","Authorization","token","then","res","i","obj","id","nama","console","log","catch","e","alert","error","response","getKaryawan","_this2","Headers","append","getItem","method","redirect","fetch","json","nama_karyawan","val","_this3","forEach","item","id_jabatan","_this4","$swal","setTimeout","close","post","message","$router","warn","status","errmsg","$store","dispatch","path","location","href","split","setItem","replace","created","users_AddUservue_type_script_lang_js_","componentNormalizer","component","Object"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d238407\"],{ff1b:function(a,e,t){\"use strict\";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t(\"div\",[t(\"CCard\",[t(\"CCardHeader\",[t(\"p\",[t(\"b\",[a._v(\"Tambah\")]),a._v(\" User\")])]),t(\"CCardBody\",[t(\"CForm\",{staticClass:\"mt-4\"},[t(\"CRow\",{staticClass:\"mx-auto d-flex justify-content-center\"},[t(\"CCol\",{attrs:{sm:\"8\"}},[t(\"p\",{directives:[{name:\"show\",rawName:\"v-show\",value:1==a.validMsg,expression:\"validMsg == true\"}],staticClass:\"alert alert-success\"},[t(\"small\",[a._v(\"Penambahan User berhasil!\")])]),t(\"CSelect\",{attrs:{label:\"Nama Karyawan\",horizontal:\"\",options:a.karyawan,description:\"Masukan Nama Karyawan\",autocomplete:\"nama_karyawan\"},on:{\"update:value\":a.assignKaryawan},model:{value:a.user.id_karyawan,callback:function(e){a.$set(a.user,\"id_karyawan\",e)},expression:\"user.id_karyawan\"}}),t(\"CInput\",{attrs:{type:\"email\",description:a.validator.email_msg,\"is-valid\":a.validator.email,autocomplete:\"email\",label:\"Email\",horizontal:\"\",placeholder:\"Masukan Email\",readonly:\"\"},on:{input:function(e){a.user.email.length<1?a.validator.email=!1:a.validator.email=!0}},model:{value:a.user.email,callback:function(e){a.$set(a.user,\"email\",e)},expression:\"user.email\"}}),t(\"CInput\",{attrs:{type:\"password\",description:a.validator.password_msg,\"is-valid\":a.validator.password,autocomplete:\"password\",label:\"Password\",horizontal:\"\",placeholder:\"Masukan Password\"},on:{input:function(e){a.user.password.length<1?a.validator.password=!1:a.validator.password=!0}},model:{value:a.user.password,callback:function(e){a.$set(a.user,\"password\",e)},expression:\"user.password\"}}),t(\"CSelect\",{attrs:{label:\"Jabatan\",horizontal:\"\",options:a.jabatan},on:{\"update:value\":a.assignJabatan}})],1)],1)],1)],1),t(\"CCardFooter\",{staticClass:\"d-flex justify-content-center mt-4\"},[t(\"CButton\",{attrs:{type:\"submit\",color:\"light\"},on:{click:function(e){return e.preventDefault(),a.addUser(e)}}},[t(\"i\",{staticClass:\"fa fa-plus mr-1\"}),a._v(a._s(a.label)+\" \")])],1)],1)],1)},r=[],n={name:\"AddUser\",data:function(){return{label:\"Tambah User\",validator:{email:null,email_msg:null,password:null,password_msg:null},user:{id_karyawan:null,email:null,password:null,level:null},karyawan:[],data_karyawan:[],jabatan:[],validMsg:!1,errors:[]}},methods:{getJabatan:function(){var a=this;this.jabatan.push({value:\"000\",label:\"Pilih Jabatan\"}),this.$http.get(localStorage.base_api+\"jabatan\",{headers:{Authorization:\"bearer \"+localStorage.token}}).then((function(e){for(var t=0;t<e.data.length;t++){var s={};s.value=e.data[t].id,s.label=e.data[t].nama,a.jabatan.push(s)}console.log(a.jabatan)})).catch((function(a){return alert(\"Maaf lagi ada error sedikit :D\"),console.error(a.response),!1}))},getKaryawan:function(){var a=this;this.karyawan.push({value:\"000\",label:\"Pilih Karyawan\"});var e=new Headers;e.append(\"Authorization\",\"bearer \"+localStorage.getItem(\"token\"));var t={method:\"GET\",headers:e,redirect:\"follow\"};fetch(localStorage.base_api+\"karyawan\",t).then((function(a){return a.json()})).then((function(e){a.data_karyawan=e;for(var t=0;t<e.length;t++){var s={};s.value=e[t].id,s.label=e[t].nama_karyawan,a.karyawan.push(s)}})).then((function(){a.getJabatan()})).catch((function(a){return alert(\"Maaf lagi ada error sedikit :D\"),console.error(a),!1}))},assignKaryawan:function(a){var e=this;this.user.id_karyawan=a,this.data_karyawan.forEach((function(t,s){if(a==t.id)return e.user.email=t.email,void(e.user.level=t.id_jabatan)})),console.log(a)},assignJabatan:function(a){this.user.level=a},addUser:function(){var a=this;this.errors=[],this.user.email||(this.validator.email=!1,this.validator.email_msg=\"Harap isi email karyawan\",this.errors.push(\"email karyawan kosong\")),this.user.password||(this.validator.password=!1,this.validator.password_msg=\"Harap isi password karyawan\",this.errors.push(\"password karyawan kosong\")),this.user.id_jabatan&&\"000\"!=this.user.id_jabatan||(this.errors.push(\"Harap pilih jabatan\"),this.$swal(\"Harap pilih jabatan\",\"\",\"warning\"),setTimeout((function(){return a.$swal.close()}),1500)),this.user.id_karyawan&&\"000\"!=this.user.id_karyawan||(this.errors.push(\"Harap pilih karyawan\"),this.$swal(\"Harap pilih karyawan\",\"\",\"warning\"),setTimeout((function(){return a.$swal.close()}),1500)),this.errors.length||(console.log(this.user),this.label=\"Loading...\",this.$http.post(localStorage.base_api+\"user\",this.user,{headers:{Authorization:\"bearer \"+localStorage.getItem(\"token\")},redirect:\"follow\"}).then((function(e){a.label=\"Tambah User\",alert(e.data.message),a.$swal(e.data.message,\"Mohon tunggu sebentar...\",\"success\"),setTimeout((function(){a.$swal.close(),a.$router.push(\"/user\")}),1500)})).catch((function(e){if(console.warn(e.response),401!=e.response.status){for(var t in a.label=\"Tambah User\",e.response.data.errmsg)console.log(e.response.data.errmsg[t][0]),a.$swal(e.response.data.errmsg[t][0],\"hubungi pengembangnya yah\",\"error\"),setTimeout((function(){a.$swal.close()}),1500);return!1}a.$store.dispatch(\"logout\").then((function(){var e=window.location.href;return e=e.split(\"/\"),localStorage.setItem(\"prevPath\",e[e.length-1]),a.$swal(\"Sesi Login kamu udah habis\",\"login lagi yah\",\"warning\"),setTimeout((function(){a.$swal.close(),a.$router.replace({path:\"/login\"})}),1500),!1})).catch((function(e){return console.log(e),a.$swal(\"Tidak bisa menambah data\",\"hubungi pengembangnya yah\",\"error\"),setTimeout((function(){a.$swal.close()}),1500),!1}))})))}},created:function(){1!=localStorage.level&&2!=localStorage.level&&this.$router.push(\"/\"),this.getKaryawan()}},o=n,l=t(\"2877\"),i=Object(l[\"a\"])(o,s,r,!1,null,null,null);e[\"default\"]=i.exports}}]);","extractedComments":[]}