{"remainingRequest":"/home/mikhsanh/Documents/project/alkes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mikhsanh/Documents/project/alkes/src/views/kwitansi/AddKwitansi.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mikhsanh/Documents/project/alkes/src/views/kwitansi/AddKwitansi.vue","mtime":1589068275181},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1581205341990},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/cache-loader/dist/cjs.js","mtime":1581205342201},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/vue-loader/lib/index.js","mtime":1581205405536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQgbWl4aW5zIGZyb20gJ0AvbWl4aW5zL2N1cnJlbmN5LmpzJwoJaW1wb3J0IHtnZXREYXRhc30gZnJvbSAnQC9jb250YWluZXJzL2dsb2JhbC1mdW5jdGlvbi5qcycKCWV4cG9ydCBkZWZhdWx0IHsKCQluYW1lOiJBZGRLd2l0YW5zaSIsCgkJbWl4aW5zOlttaXhpbnNdLAoJCWRhdGEoKSB7CgkJCXJldHVybiB7CgkJCQlsYWJlbDonVGFtYmFoIEt3aXRhbnNpJywKCQkJCWt3aXRhbnNpOiB7CgkJCQkJbm86bnVsbCwKCQkJCQl0ZXJpbWFfZGFyaTpudWxsLAoJCQkJCXVhbmc6bnVsbCwKCQkJCQlndW5hX3BlbWJheWFyYW46bnVsbAoJCQkJfSwKCQkJCXZhbGlkTXNnOmZhbHNlLAoJCQkJZXJyb3JzOltdLAoJCQkJZ3VuYV9wZW1iYXlhcmFuOltdLAoJCQkJcG86W10KCQkJfQoJCX0sCgkJd2F0Y2g6IHsKCQkJJ2t3aXRhbnNpLnVhbmcnOiBmdW5jdGlvbih2YWwpIHsKCQkJCXRoaXMua3dpdGFuc2kudWFuZyA9IHRoaXMudG9SdXBpYWgodmFsKQoJCQl9CgkJfSwKCQltZXRob2RzOiB7CgkJCXVhbmdSdXBpYWgoKSB7CgkJCQl0aGlzLmt3aXRhbnNpLnVhbmcgPSB0aGlzLnRvUnVwaWFoKHRoaXMua3dpdGFuc2kudWFuZykKCQkJfSwKCQkJYXNzaWduR3VuYVBlbWJheWFyYW4odmFsKSB7CgkJCQl0aGlzLnBvLmZvckVhY2goKGl0ZW0pID0+IHsKCQkJCQlpZihpdGVtLmlkID09IHZhbCkgewoJCQkJCQl0aGlzLmt3aXRhbnNpLmd1bmFfcGVtYmF5YXJhbiA9IGl0ZW0uaWQKCQkJCQkJdGhpcy5rd2l0YW5zaS5ubyA9IGl0ZW0ubm9faW52b2ljZQoJCQkJCQl0aGlzLmt3aXRhbnNpLnRlcmltYV9kYXJpID0gaXRlbS5rb25zdW1lbgoJCQkJCX0KCQkJCX0pCgkJCX0sCgkJCWFkZEt3aXRhbnNpKCkgewoJCQkJdGhpcy5lcnJvcnMgPSBbXQoJCQkJaWYoIXRoaXMua3dpdGFuc2kubm8pIHsKCQkJCQl0aGlzLmVycm9ycy5wdXNoKCdOb21lciBLd2l0YW5zaSBXYWppYiBkaWlzaScpCgkJCQl9CgkJCQlpZighdGhpcy5rd2l0YW5zaS50ZXJpbWFfZGFyaSkgewoJCQkJCXRoaXMuZXJyb3JzLnB1c2goJ05hbWEgcGVuZXJpbWEgd2FqaWIgZGlpc2knKQoJCQkJfQoJCQkJaWYoIXRoaXMua3dpdGFuc2kudWFuZykgewoJCQkJCXRoaXMuZXJyb3JzLnB1c2goJ1VhbmcgVGVyYmlsYW5nIFdhamliIGRpaXNpJykKCQkJCX0KCQkJCWlmKCF0aGlzLmt3aXRhbnNpLmd1bmFfcGVtYmF5YXJhbiB8fCB0aGlzLmt3aXRhbnNpLmd1bmFfcGVtYmF5YXJhbiA9PSAnMDAwJykgewoJCQkJCXRoaXMuZXJyb3JzLnB1c2goJ0d1YW4gUGVtYmF5YXJhbiBXYWppYiBkaWlzaScpCgkJCQkJdGhpcy4kc3dhbCgnSGFyYXAgUGlsaWggR3VuYSBQZW1iYXlhcmFuJywgJycsICd3YXJuaW5nJykKCQkJCQlzZXRUaW1lb3V0KCgpID0+IHRoaXMuJHN3YWwuY2xvc2UoKSwgMTUwMCkKCQkJCX0KCgkJCQlpZighdGhpcy5lcnJvcnMubGVuZ3RoKSB7CgkJCQkJdGhpcy5rd2l0YW5zaS51YW5nID0gdGhpcy50b0Zsb2F0UnVwaWFoKHRoaXMua3dpdGFuc2kudWFuZykKCQkJCQl0aGlzLmxhYmVsID0gJ0xvYWRpbmcuLi4nCgkJCQkJdGhpcy4kaHR0cC5wb3N0KGxvY2FsU3RvcmFnZS5iYXNlX2FwaSArICdrd2l0YW5zaScsIHRoaXMua3dpdGFuc2ksIHsKCQkJCQkJaGVhZGVyczogewoJCQkJCQkJJ0F1dGhvcml6YXRpb24nOidiZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpCgkJCQkJCX0sCgkJCQkJCXJlZGlyZWN0Oidmb2xsb3cnCgkJCQkJfSkKCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQl0aGlzLmxhYmVsID0gJ1RhbWJhaCBLd2l0YW5zaScKCQkJCQkJdGhpcy4kc3dhbCgnS3dpdGFuc2kgYmVyaGFzaWwgZGl0YW1iYWgnLCAnTW9ob24gdHVuZ2d1IHNlYmVudGFyLi4uJywgJ3N1Y2Nlc3MnKQoJCQkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQkJCXRoaXMuJHN3YWwuY2xvc2UoKQoJCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goJy9rd2l0YW5zaScpCgkJCQkJCX0sIDE1MDApCgkJCQkJCQoJCQkJCX0pCgkJCQkJLmNhdGNoKGUgPT4gewoJCQkJCQl0aGlzLmxhYmVsID0gJ1RhbWJhaCBLd2l0YW5zaScKCQkJCQkJdGhpcy4kc3dhbCgnVGlkYWsgYmlzYSBhbWJpbCBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YS4uLicsICdkYW5nZXInKQoJICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKCSAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHN3YWwuY2xvc2UoKQoJICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKQoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKCQkJCQkJdGhpcy5sYWJlbCA9ICdUYW1iYWggS3dpdGFuc2knCgkJCQkJCWNvbnNvbGUubG9nKGUpCgkJCQkJCXJldHVybiBmYWxzZQoJCQkJCX0pCgkJCQl9CgkJCX0KCQl9LAoJCWNyZWF0ZWQoKSB7CgkJCWlmKGxvY2FsU3RvcmFnZS5sZXZlbCAhPSAxICYmIGxvY2FsU3RvcmFnZS5sZXZlbCAhPSAyICYmIGxvY2FsU3RvcmFnZS5sZXZlbCAhPSAzKSB7CgkJCQl0aGlzLiRyb3V0ZXIucHVzaCgnLycpCgkJCX0KCQkJZ2V0RGF0YXModGhpcywgbG9jYWxTdG9yYWdlLmJhc2VfYXBpICsgJ3BvJywge21ldGhvZDoncG9zdCcsaGVhZGVyczp7J0F1dGhvcml6YXRpb24nOiAnYmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UudG9rZW59fSwgJ3Bvc3QnLCB7fSkKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMucG8gPSByZXMKCQkJCXRoaXMuZ3VuYV9wZW1iYXlhcmFuLnB1c2goe3ZhbHVlOiAnMDAwJywgbGFiZWw6J1BpbGloIEd1bmEgUGVtYmF5YXJhbid9KQoJCQkJdGhpcy5wby5mb3JFYWNoKChpdGVtLCBpKSA9PiB7CgkJCQkJbGV0IG9iaiA9IHt9CgkJCQkJb2JqLnZhbHVlID0gaXRlbS5pZAoJCQkJCW9iai5sYWJlbCA9IGl0ZW0ubm8KCQkJCQl0aGlzLmd1bmFfcGVtYmF5YXJhbi5wdXNoKG9iaikKCQkJCX0pCgkJCX0pCgkJCS5jYXRjaChlID0+IHsKCQkJCWlmKGUucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9nb3V0JykKICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBwYXRoID0gd2luZG93LmxvY2F0aW9uLmhyZWYKICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zcGxpdCgnLycpCiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByZXZQYXRoJywgcGF0aFtwYXRoLmxlbmd0aCAtIDFdKQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdTZXNzaW9uIExvZ2luIGthbXUgc3VkYWggaGFiaXMhIHNpbGFoa2FuIGxvZ2luIGtlbWJhbGknKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2Uoe3BhdGg6ICcvbG9naW4nfSkKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdBbiBlcnJvciBvY2N1cmVkIHdoZW4gZ2V0IGRhdGEgOignKQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJycignZXJyb3IgYWRkIGt3aXRhbnNpJyArIGUpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKCQkJCQlhbGVydCgnVGhlcmUgYW4gZXJyb3Igb2NjdXJlZCcpCgkJCQkJY29uc29sZS5sb2coZSkKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCX0KCQkJfSkKCQl9Cgl9Cg=="},{"version":3,"sources":["AddKwitansi.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddKwitansi.vue","sourceRoot":"src/views/kwitansi","sourcesContent":["<template>\n\t<div>\n\t\t<CCard>\n\t\t\t<CCardHeader>\n\t\t\t\t<p><b>Tambah</b> Kwitansi</p>\n\t\t\t</CCardHeader>\n\t\t\t<CCardBody>\n\t\t\t\t<CForm class=\"mt-4\">\n\t\t\t\t\t<CRow class=\"mx-auto d-flex justify-content-center\">\n\t\t\t\t\t\t<CCol sm=\"12\" md=\"8\">\n\t\t\t\t\t\t\t  <p v-show=\"validMsg == true\" class=\"alert alert-success\">\n\t\t                        <small>Penambahan Kwitansi berhasil!</small>\n\t\t                      </p>    \n\t\t                      <div v-if=\"errors.length > 0\">\n\t\t                        <p v-for=\"error in errors\" class=\"alert alert-danger\">\n\t\t                          <small>{{error}}</small>\n\t\t                        </p>\n\t\t                      </div>  \n\t\t                    <CSelect\n\t\t\t\t                label=\"Guna Pembayaran\"\n\t\t\t\t                horizontal\n\t\t\t\t                :options=\"guna_pembayaran\"\n\t\t\t\t                v-model=\"kwitansi.guna_pembayaran\"\n\t\t\t\t                @update:value=\"assignGunaPembayaran\"\n\t\t\t\t              />\n\t\t                    <CInput\n\t\t                        type=\"text\"\n\t\t                        description=\"Masukan Nomer Kwitansi\"\n\t\t                        autocomplete=\"no_kwitansi\"\n\t\t                        label=\"Nomer Kwitansi\"\n\t\t                        horizontal\n\t\t                        placeholder=\"Masukan Nomer Kwitansi\"\n\t\t                        v-model=\"kwitansi.no\"\n\t\t                      />\n\t\t\t\t            <CInput\n\t\t                        type=\"text\"\n\t\t                        description=\"Masukan Nama Penerima\"\n\t\t                        autocomplete=\"terima_dari\"\n\t\t                        label=\"Nama Penerima\"\n\t\t                        horizontal\n\t\t                        placeholder=\"Masukan Nama Penerima\"\n\t\t                        v-model=\"kwitansi.terima_dari\"\n\t\t                        readonly\n\t\t                      />  \n\t\t                      <CInput\n\t\t                        type=\"text\"\n\t\t                        description=\"Masukan Uang Terbilang\"\n\t\t                        autocomplete=\"uang_terbilang\"\n\t\t                        label=\"Uang Terbilang\"\n\t\t                        horizontal\n\t\t                        placeholder=\"Masukan Uang Terbilang\"\n\t\t                        v-model=\"kwitansi.uang\"\n\t\t                      />\n\t                        \n\t\t\t\t\t\t</CCol>\n\t\t\t\t\t</CRow>\n\t\t\t\t</CForm>\n\t\t\t</CCardBody>\n\t\t\t<CCardFooter class=\"d-flex justify-content-center mt-4\">\n\t\t\t\t<CButton type=\"submit\" size=\"md\" color=\"primary\" @click.prevent=\"addKwitansi\">\n\t\t\t\t\t<i class=\"fa fa-plus mr-1\"></i>{{label}}\n\t\t\t\t</CButton>\n\t\t\t</CCardFooter>\n\t\t</CCard>\n\t</div>\n</template>\n<script type=\"text/javascript\">\n\timport mixins from '@/mixins/currency.js'\n\timport {getDatas} from '@/containers/global-function.js'\n\texport default {\n\t\tname:\"AddKwitansi\",\n\t\tmixins:[mixins],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlabel:'Tambah Kwitansi',\n\t\t\t\tkwitansi: {\n\t\t\t\t\tno:null,\n\t\t\t\t\tterima_dari:null,\n\t\t\t\t\tuang:null,\n\t\t\t\t\tguna_pembayaran:null\n\t\t\t\t},\n\t\t\t\tvalidMsg:false,\n\t\t\t\terrors:[],\n\t\t\t\tguna_pembayaran:[],\n\t\t\t\tpo:[]\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t'kwitansi.uang': function(val) {\n\t\t\t\tthis.kwitansi.uang = this.toRupiah(val)\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tuangRupiah() {\n\t\t\t\tthis.kwitansi.uang = this.toRupiah(this.kwitansi.uang)\n\t\t\t},\n\t\t\tassignGunaPembayaran(val) {\n\t\t\t\tthis.po.forEach((item) => {\n\t\t\t\t\tif(item.id == val) {\n\t\t\t\t\t\tthis.kwitansi.guna_pembayaran = item.id\n\t\t\t\t\t\tthis.kwitansi.no = item.no_invoice\n\t\t\t\t\t\tthis.kwitansi.terima_dari = item.konsumen\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\taddKwitansi() {\n\t\t\t\tthis.errors = []\n\t\t\t\tif(!this.kwitansi.no) {\n\t\t\t\t\tthis.errors.push('Nomer Kwitansi Wajib diisi')\n\t\t\t\t}\n\t\t\t\tif(!this.kwitansi.terima_dari) {\n\t\t\t\t\tthis.errors.push('Nama penerima wajib diisi')\n\t\t\t\t}\n\t\t\t\tif(!this.kwitansi.uang) {\n\t\t\t\t\tthis.errors.push('Uang Terbilang Wajib diisi')\n\t\t\t\t}\n\t\t\t\tif(!this.kwitansi.guna_pembayaran || this.kwitansi.guna_pembayaran == '000') {\n\t\t\t\t\tthis.errors.push('Guan Pembayaran Wajib diisi')\n\t\t\t\t\tthis.$swal('Harap Pilih Guna Pembayaran', '', 'warning')\n\t\t\t\t\tsetTimeout(() => this.$swal.close(), 1500)\n\t\t\t\t}\n\n\t\t\t\tif(!this.errors.length) {\n\t\t\t\t\tthis.kwitansi.uang = this.toFloatRupiah(this.kwitansi.uang)\n\t\t\t\t\tthis.label = 'Loading...'\n\t\t\t\t\tthis.$http.post(localStorage.base_api + 'kwitansi', this.kwitansi, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Authorization':'bearer ' + localStorage.getItem('token')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tredirect:'follow'\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.label = 'Tambah Kwitansi'\n\t\t\t\t\t\tthis.$swal('Kwitansi berhasil ditambah', 'Mohon tunggu sebentar...', 'success')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.$swal.close()\n\t\t\t\t\t\t\tthis.$router.push('/kwitansi')\n\t\t\t\t\t\t}, 1500)\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tthis.label = 'Tambah Kwitansi'\n\t\t\t\t\t\tthis.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'danger')\n\t                    setTimeout(() => {\n\t                    \tthis.$swal.close()\n\t                    }, 1500)\n\t                    return false\n\t\t\t\t\t\tthis.label = 'Tambah Kwitansi'\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tif(localStorage.level != 1 && localStorage.level != 2 && localStorage.level != 3) {\n\t\t\t\tthis.$router.push('/')\n\t\t\t}\n\t\t\tgetDatas(this, localStorage.base_api + 'po', {method:'post',headers:{'Authorization': 'bearer ' + localStorage.token}}, 'post', {})\n\t\t\t.then(res => {\n\t\t\t\tthis.po = res\n\t\t\t\tthis.guna_pembayaran.push({value: '000', label:'Pilih Guna Pembayaran'})\n\t\t\t\tthis.po.forEach((item, i) => {\n\t\t\t\t\tlet obj = {}\n\t\t\t\t\tobj.value = item.id\n\t\t\t\t\tobj.label = item.no\n\t\t\t\t\tthis.guna_pembayaran.push(obj)\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tif(e.response.status == 401) {\n                  this.$store.dispatch('logout')\n                  .then(() => {\n                    let path = window.location.href\n                    path = path.split('/')\n                    localStorage.setItem('prevPath', path[path.length - 1])\n                    alert('Session Login kamu sudah habis! silahkan login kembali')\n                    \n                  })\n                  .then(() => {\n                    this.$router.replace({path: '/login'})\n                  })\n                  .catch(e => {\n                    alert('An error occured when get data :(')\n                    console.errr('error add kwitansi' + e)\n                    return false\n                  })\n                }\n                else {\n\t\t\t\t\talert('There an error occured')\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n</script>"]}]}