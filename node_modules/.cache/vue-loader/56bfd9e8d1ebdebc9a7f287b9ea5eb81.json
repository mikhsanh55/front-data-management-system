{"remainingRequest":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\src\\views\\asset\\AddAsset.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\src\\views\\asset\\AddAsset.vue","mtime":1581473603389},{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1577457008845},{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577457009170},{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\vue-loader\\lib\\index.js","mtime":1577457139923}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglleHBvcnQgZGVmYXVsdCB7CgkJbmFtZToiQWRkQXNzZXQiLAoJCWRhdGEoKSB7CgkJCXJldHVybiB7CgkJCQliYXNlX2FwaTpsb2NhbFN0b3JhZ2UuYmFzZV9hcGksCgkJCQlsYWJlbDogJ1RhbWJhaCBBc3NldCcsCgkJCQlqYWJhdGFuc2VsZWN0ZWQ6MSwKCQkJCWthcnlhd2Fuc2VsZWN0ZWQ6MSwKCQkJCXZhbGlkYXRvcjogewoJCQkJCWtvZGU6bnVsbCwKCQkJCQlrb2RlX21zZzpudWxsLAoJCQkJCWRlc2tyaXBzaV9iYXJhbmc6IG51bGwsCgkJCQkJZGVza3JpcHNpX2JhcmFuZ19tc2c6bnVsbCwKCQkJCQl0YW5nZ2FsX2JlbGk6bnVsbCwKCQkJCQl0YW5nZ2FsX2JlbGlfbXNnOm51bGwsCgkJCQkJdGFuZ2dhbF9leHBpcmVkOm51bGwsCgkJCQkJdGFuZ2dhbF9leHBpcmVkX21zZzpudWxsCgkJCQl9LAoJCQkJYXNzZXQ6IHsKCQkJCQlrb2RlOm51bGwsCgkJCQkJZGVza3JpcHNpX2JhcmFuZzpudWxsLAoJCQkJCWlkX2thcnlhd2FuOm51bGwsCgkJCQkJamFiYXRhbjpudWxsLAoJCQkJCXRhbmdnYWxfYmVsaToiMDAwMC0wMC0wMCIsCgkJCQkJdGFuZ2dhbF9leHBpcmVkOiIwMDAwLTAwLTAwIgoJCQkJfSwKCQkJCXZhbGlkTXNnOmZhbHNlLAoJCQkJa2FyeWF3YW46IFtdLAoJCQkJZXJyb3JzOltdCgkJCX0KCQl9LAoJCW1ldGhvZHM6IHsKCQkJZ2V0S2FyeWF3YW4oKSB7CgkJCQlsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCkKCQkJCWhlYWRlcnMuYXBwZW5kKCdBdXRob3JpemF0aW9uJywgJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpCgkJCQlsZXQgb3B0aW9ucyA9IHsKCQkJCQltZXRob2Q6J0dFVCcsCgkJCQkJaGVhZGVycywKCQkJCQlyZWRpcmVjdDonZm9sbG93JwoJCQkJfQoJCQkJZmV0Y2godGhpcy5iYXNlX2FwaSArICdrYXJ5YXdhbicsIG9wdGlvbnMpCgkJCQkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKCQkJCS50aGVuKHJlcyA9PiB7CgkJCQkJdGhpcy5rYXJ5YXdhbi5wdXNoKHt2YWx1ZTonMDAwJywgbGFiZWw6ICdQaWxpaCBLYXJ5YXdhbid9KQoJCQkJCWZvcihsZXQgaSA9IDA7aSA8IHJlcy5sZW5ndGg7aSsrKSB7CgkgICAgICAJCQkJbGV0IG9iaiA9IHt9CgkgICAgICAJCQkJb2JqLnZhbHVlID0gcmVzW2ldLmlkCgkgICAgICAJCQkJb2JqLmxhYmVsID0gcmVzW2ldLm5hbWFfa2FyeWF3YW4KCSAgICAgIAkJCQl0aGlzLmthcnlhd2FuLnB1c2gob2JqKQoJICAgICAgCQkJfQoJCQkJfSkKCQkJCS5jYXRjaChlID0+IHsKCQkJCQl0aGlzLiRzd2FsKCdUaWRhayBiaXNhIGFtYmlsIGRhdGEnLCAnaHVidW5naSBwZW5nZW1iYW5nbnlhLi4uJywgJ2RhbmdlcicpCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHN3YWwuY2xvc2UoKQogICAgICAgICAgICAgICAgICAgIH0sIDE1MDApCgkgICAgICAJCQljb25zb2xlLmVycm9yKGUpCgkgICAgICAJCQlyZXR1cm4gZmFsc2UKCQkJCX0pCgkJCX0sCgkJCWFzc2lnbkphYmF0YW4odmFsKSB7CgkJCQl0aGlzLmFzc2V0LmphYmF0YW4gPSB2YWwKCQkJfSwKCQkJYXNzaWduS2FyeWF3YW4odmFsKSB7CgkJCQl0aGlzLmFzc2V0LmlkX2thcnlhd2FuID0gdmFsCgkJCX0sCgkJCWFkZEFzc2V0KCkgewoJCQkJdGhpcy5lcnJvcnMgPSBbXQoJCQkJaWYoIXRoaXMuYXNzZXQua29kZSkgewoJCQkJCXRoaXMudmFsaWRhdG9yLmtvZGUgPSBmYWxzZQoJCSAgICAgICAgICAgIHRoaXMudmFsaWRhdG9yLmtvZGVfbXNnID0gJ0hhcmFwIGlzaSBrb2RlIGFzc2V0JwoJCSAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ2tvZGUgYXNzZXQga29zb25nJykKCQkJCX0KCQkJCWlmKCF0aGlzLmFzc2V0LnRhbmdnYWxfYmVsaSB8fCB0aGlzLmFzc2V0LnRhbmdnYWxfYmVsaSA9PSAnMDAwMC0wMC0wMCcpIHsKCQkJCQl0aGlzLnZhbGlkYXRvci50YW5nZ2FsX2JlbGkgPSBmYWxzZQoJCSAgICAgICAgICAgIHRoaXMudmFsaWRhdG9yLnRhbmdnYWxfYmVsaV9tc2cgPSAnSGFyYXAgaXNpIHRhbmdnYWwgYmVsaScKCQkgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCd0Z2xfYmVsaSBrYXJ5YXdhbiBrb3NvbmcnKQoJCQkJfQoJCQkJaWYoIXRoaXMuYXNzZXQudGFuZ2dhbF9leHBpcmVkIHx8IHRoaXMuYXNzZXQudGFuZ2dhbF9leHBpcmVkID09ICcwMDAwLTAwLTAwJykgewoJCQkJCXRoaXMudmFsaWRhdG9yLnRhbmdnYWxfZXhwaXJlZCA9IGZhbHNlCgkJICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IudGdsX2V4cGlyZWRfbXNnID0gJ0hhcmFwIGlzaSB0YW5nZ2FsIGthZGFsdWFyc2EnCgkJICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgndGdsX2V4cGlyZWQga2FyeWF3YW4ga29zb25nJykKCQkJCX0KCgkJCQlpZighdGhpcy5hc3NldC5pZF9rYXJ5YXdhbiB8fCB0aGlzLmFzc2V0LmlkX2thcnlhd2FuID09ICcwMDAnKSB7CgkJCQkJdGhpcy5lcnJvcnMucHVzaCgnUGlsaWggS2FyeWF3YW4nKQoJCQkJCXRoaXMuJHN3YWwoJ0hhcmFwIFBpbGloIEthcnlhd2FuJywgJycsICd3YXJuaW5nJykKCQkJCQlzZXRUaW1lb3V0KCgpID0+IHRoaXMuJHN3YWwuY2xvc2UoKSwgMTUwMCkKCQkJCX0KCgkJCQlpZighdGhpcy5lcnJvcnMubGVuZ3RoKSB7CgkJCQkJdGhpcy5sYWJlbCA9ICdMb2FkaW5nLi4uJwoJCQkJCXRoaXMuJGh0dHAucG9zdCh0aGlzLmJhc2VfYXBpICsgJ2Fzc2V0cycsIHRoaXMuYXNzZXQsIHsKCQkJCQkJaGVhZGVyczogewoJCQkJCQkJJ0F1dGhvcml6YXRpb24nOidiZWFyZXIgJyArIGxvY2FsU3RvcmFnZS50b2tlbgoJCQkJCQl9CgkJCQkJfSkKCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQl0aGlzLmxhYmVsID0gJ1RhbWJhaCBBc3NldCcKCQkJCQkJY29uc29sZS53YXJuKHJlcykKCQkJCQkJdGhpcy4kc3dhbCgnVGFtYmFoIGRhdGEgYXNzZXQgYmVyaGFzaWwnLCAnTW9ob24gdHVuZ2d1IHNlYmVudGFyLi4uJywgJ3N1Y2Nlc3MnKQoJCQkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQkJCXRoaXMuJHN3YWwuY2xvc2UoKQoJCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvYXNzZXQnfSkKCQkJCQkJfSwgMTUwMCkKCQkJCQkJCgkJCQkJfSkKCQkJCQkuY2F0Y2goZSA9PiB7CgkJCQkJCXRoaXMubGFiZWwgPSAnVGFtYmFoIEFzc2V0JwoJCQkJCQlpZihlLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpIHsKCQkgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9nb3V0JykKCQkgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CgkJICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmCgkJICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zcGxpdCgnLycpCgkJICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJldlBhdGgnLCBwYXRoW3BhdGgubGVuZ3RoIC0gMV0pCgkJICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCdTZXNpIGxvZ2luIGthbXUgc3VkYWggaGFiaXMnLCAnbG9naW4ga2FnaSB5YWguLi4nLCAnd2FybmluZycpCgkJICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKCQkgICAgICAgICAgICAgICAgICAgIAl0aGlzLiRzd2FsLmNsb3NlKCkKCQkgICAgICAgICAgICAgICAgICAgIAl0aGlzLiRyb3V0ZXIucmVwbGFjZSh7cGF0aDogJy9sb2dpbid9KQoJCSAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCkKCQkgICAgICAgICAgICAgICAgICAgIAoJCSAgICAgICAgICAgICAgICAgIH0pCgkJICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewoJCSAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgnVGlkYWsgYmlzYSBhbWJpbCBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YS4uLicsICdlcnJvcicpCgkJICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKCQkgICAgICAgICAgICAgICAgICAgIAl0aGlzLiRzd2FsLmNsb3NlKCkKCQkgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApCgkJICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKCQkgICAgICAgICAgICAgICAgICB9KQoJCSAgICAgICAgICAgICAgICB9CgkJICAgICAgICAgICAgICAgIGVsc2UgaWYoZS5yZXNwb25zZS5zdGF0dXMgPT0gNTAwKSB7CgkJCQkJCQl0aGlzLiRzd2FsKCdUaWRhayBiaXNhIGFtYmlsIGRhdGEnLCAnaHVidW5naSBwZW5nZW1iYW5nbnlhLi4uJywgJ2Vycm9yJykKCQkgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewoJCSAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHN3YWwuY2xvc2UoKQoJCSAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCkKCQkJCQkJfQoJCQkJCQljb25zb2xlLmxvZyhlLnJlc3BvbnNlKQoJCQkJCQlyZXR1cm4gZmFsc2UKCQkJCQl9KQoJCQkJfQoJCQkJZWxzZSB7CgkJCQkJd2luZG93LnNjcm9sbEJ5KHsgCgkJICAgICAgICAgICAgICB0b3A6IC01MDAsIC8vIGNvdWxkIGJlIG5lZ2F0aXZlIHZhbHVlCgkJICAgICAgICAgICAgICBsZWZ0OiAwLCAKCQkgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyAKCQkgICAgICAgICAgICB9KQoJCSAgICAgICAgICAgIHJldHVybiBmYWxzZQoJCQkJfQoJCQl9CgkJfSwKCQljcmVhdGVkKCkgewoJCQlpZihsb2NhbFN0b3JhZ2UubGV2ZWwgIT0gMSAmJiBsb2NhbFN0b3JhZ2UubGV2ZWwgIT0gMiAmJiBsb2NhbFN0b3JhZ2UubGV2ZWwgIT0gNyAmJiBsb2NhbFN0b3JhZ2UubGV2ZWwgIT0gMykgewoJCQkJdGhpcy4kcm91dGVyLnB1c2goJy8nKQoJCQl9CgkJCXRoaXMuZ2V0S2FyeWF3YW4oKQoJCX0KCX0K"},{"version":3,"sources":["AddAsset.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddAsset.vue","sourceRoot":"src/views/asset","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<CCard>\r\n\t\t\t<CCardHeader>\r\n\t\t\t\t<p><b>Tambah</b> Asset</p>\r\n\t\t\t</CCardHeader>\r\n\t\t\t<CCardBody>\r\n\t\t\t\t<CForm class=\"mt-4\">\r\n\t\t\t\t\t<CRow class=\"mx-auto d-flex justify-content-center\">\r\n\t\t\t\t\t\t<CCol sm=\"8\">\r\n\t\t\t\t\t\t\t  <p v-show=\"validMsg == true\" class=\"alert alert-success\">\r\n\t\t                        <small>Penambahan Asset berhasil!</small>\r\n\t\t                      </p>    \r\n\r\n\t\t                    <CInput\r\n\t\t                        type=\"text\"\r\n\t\t                        :description=\"validator.kode_msg\"\r\n\t\t                        :is-valid=\"validator.kode\"\r\n\t\t                        @input=\"asset.kode.length < 1 ? validator.kode = false : validator.kode = true\"\r\n\t\t                        autocomplete=\"kode\"\r\n\t\t                        label=\"Kode Asset\"\r\n\t\t                        horizontal\r\n\t\t                        placeholder=\"Masukan Kode Asset\"\r\n\t\t                        v-model=\"asset.kode\"\r\n\t\t                      />\r\n\t\t                    <CTextarea\r\n\t\t                    \t:description=\"validator.deskripsi_barang_msg\"\r\n\t\t                        :is-valid=\"validator.deskripsi_barang\"\r\n\t\t                        @input=\"asset.deskripsi_barang.length < 1 ? validator.deskripsi_barang = false : validator.deskripsi_barang = true\"\r\n\t\t                        label=\"Masukan Deskripsi Asset\"\r\n\t\t                        placeholder=\"Masukan Deskripsi Asset\"\r\n\t\t                        horizontal\r\n\t\t                        rows=\"3\"\r\n\t\t                        v-model=\"asset.deskripsi_barang\"\r\n\t\t                      /> \r\n\t\t                    <CSelect\r\n\t\t\t\t                label=\"Karyawan\"\r\n\t\t\t\t                horizontal\r\n\t\t\t\t                v-model=\"asset.id_karyawan\"\r\n\t\t\t\t                :options=\"karyawan\"\r\n\t\t\t\t                @update:value=\"assignKaryawan\"\r\n\t\t\t\t              />  \r\n\t\t                    <CInput\r\n\t                        \ttype=\"date\"\r\n\t\t                        :description=\"validator.tanggal_beli_msg\"\r\n\t\t                        :is-valid=\"validator.tanggal_beli\"\r\n\t\t                        @input=\"asset.tanggal_beli.length < 1 ? validator.tanggal_beli = false : validator.tanggal_beli = true\"\r\n\t\t                        autocomplete=\"tanggal_beli\"\r\n\t\t                        label=\"Tanggal Beli\"\r\n\t\t                        horizontal\r\n\t\t                        placeholder=\"Masukan Tanggal Beli\"\r\n\t\t                        v-model=\"asset.tanggal_beli\"\r\n\t\t                      />\r\n\t\t                      <CInput\r\n\t                        \ttype=\"date\"\r\n\t\t                        :description=\"validator.tanggal_expired_msg\"\r\n\t\t                        :is-valid=\"validator.tanggal_expired\"\r\n\t\t                        @input=\"asset.tanggal_expired.length < 1 ? validator.tanggal_expired = false : validator.tanggal_expired = true\"\r\n\t\t                        autocomplete=\"tanggal_expired\"\r\n\t\t                        label=\"Tanggal Expired\"\r\n\t\t                        horizontal\r\n\t\t                        placeholder=\"Masukan Tanggal Expired\"\r\n\t\t                        v-model=\"asset.tanggal_expired\"\r\n\t\t                      />\r\n\t\t\t\t\t\t</CCol>\r\n\t\t\t\t\t</CRow>\r\n\t\t\t\t</CForm>\r\n\t\t\t</CCardBody>\r\n\t\t\t<CCardFooter class=\"d-flex justify-content-center mt-4\">\r\n\t\t\t\t<CButton type=\"submit\" color=\"light\" @click.prevent=\"addAsset\">\r\n\t\t\t\t\t<i class=\"fa fa-plus mr-1\"></i>{{label}}\r\n\t\t\t\t</CButton>\r\n\t\t\t</CCardFooter>\r\n\t\t</CCard>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\n\texport default {\r\n\t\tname:\"AddAsset\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbase_api:localStorage.base_api,\r\n\t\t\t\tlabel: 'Tambah Asset',\r\n\t\t\t\tjabatanselected:1,\r\n\t\t\t\tkaryawanselected:1,\r\n\t\t\t\tvalidator: {\r\n\t\t\t\t\tkode:null,\r\n\t\t\t\t\tkode_msg:null,\r\n\t\t\t\t\tdeskripsi_barang: null,\r\n\t\t\t\t\tdeskripsi_barang_msg:null,\r\n\t\t\t\t\ttanggal_beli:null,\r\n\t\t\t\t\ttanggal_beli_msg:null,\r\n\t\t\t\t\ttanggal_expired:null,\r\n\t\t\t\t\ttanggal_expired_msg:null\r\n\t\t\t\t},\r\n\t\t\t\tasset: {\r\n\t\t\t\t\tkode:null,\r\n\t\t\t\t\tdeskripsi_barang:null,\r\n\t\t\t\t\tid_karyawan:null,\r\n\t\t\t\t\tjabatan:null,\r\n\t\t\t\t\ttanggal_beli:\"0000-00-00\",\r\n\t\t\t\t\ttanggal_expired:\"0000-00-00\"\r\n\t\t\t\t},\r\n\t\t\t\tvalidMsg:false,\r\n\t\t\t\tkaryawan: [],\r\n\t\t\t\terrors:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetKaryawan() {\r\n\t\t\t\tlet headers = new Headers()\r\n\t\t\t\theaders.append('Authorization', 'bearer ' + localStorage.getItem('token'))\r\n\t\t\t\tlet options = {\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\theaders,\r\n\t\t\t\t\tredirect:'follow'\r\n\t\t\t\t}\r\n\t\t\t\tfetch(this.base_api + 'karyawan', options)\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.karyawan.push({value:'000', label: 'Pilih Karyawan'})\r\n\t\t\t\t\tfor(let i = 0;i < res.length;i++) {\r\n\t      \t\t\t\tlet obj = {}\r\n\t      \t\t\t\tobj.value = res[i].id\r\n\t      \t\t\t\tobj.label = res[i].nama_karyawan\r\n\t      \t\t\t\tthis.karyawan.push(obj)\r\n\t      \t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tthis.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'danger')\r\n                    setTimeout(() => {\r\n                    \tthis.$swal.close()\r\n                    }, 1500)\r\n\t      \t\t\tconsole.error(e)\r\n\t      \t\t\treturn false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tassignJabatan(val) {\r\n\t\t\t\tthis.asset.jabatan = val\r\n\t\t\t},\r\n\t\t\tassignKaryawan(val) {\r\n\t\t\t\tthis.asset.id_karyawan = val\r\n\t\t\t},\r\n\t\t\taddAsset() {\r\n\t\t\t\tthis.errors = []\r\n\t\t\t\tif(!this.asset.kode) {\r\n\t\t\t\t\tthis.validator.kode = false\r\n\t\t            this.validator.kode_msg = 'Harap isi kode asset'\r\n\t\t            this.errors.push('kode asset kosong')\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.asset.tanggal_beli || this.asset.tanggal_beli == '0000-00-00') {\r\n\t\t\t\t\tthis.validator.tanggal_beli = false\r\n\t\t            this.validator.tanggal_beli_msg = 'Harap isi tanggal beli'\r\n\t\t            this.errors.push('tgl_beli karyawan kosong')\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.asset.tanggal_expired || this.asset.tanggal_expired == '0000-00-00') {\r\n\t\t\t\t\tthis.validator.tanggal_expired = false\r\n\t\t            this.validator.tgl_expired_msg = 'Harap isi tanggal kadaluarsa'\r\n\t\t            this.errors.push('tgl_expired karyawan kosong')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this.asset.id_karyawan || this.asset.id_karyawan == '000') {\r\n\t\t\t\t\tthis.errors.push('Pilih Karyawan')\r\n\t\t\t\t\tthis.$swal('Harap Pilih Karyawan', '', 'warning')\r\n\t\t\t\t\tsetTimeout(() => this.$swal.close(), 1500)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this.errors.length) {\r\n\t\t\t\t\tthis.label = 'Loading...'\r\n\t\t\t\t\tthis.$http.post(this.base_api + 'assets', this.asset, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Authorization':'bearer ' + localStorage.token\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.label = 'Tambah Asset'\r\n\t\t\t\t\t\tconsole.warn(res)\r\n\t\t\t\t\t\tthis.$swal('Tambah data asset berhasil', 'Mohon tunggu sebentar...', 'success')\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.$swal.close()\r\n\t\t\t\t\t\t\tthis.$router.push({path: '/asset'})\r\n\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tthis.label = 'Tambah Asset'\r\n\t\t\t\t\t\tif(e.response.status == 401) {\r\n\t\t                  this.$store.dispatch('logout')\r\n\t\t                  .then(() => {\r\n\t\t                    let path = window.location.href\r\n\t\t                    path = path.split('/')\r\n\t\t                    localStorage.setItem('prevPath', path[path.length - 1])\r\n\t\t                    this.$swal('Sesi login kamu sudah habis', 'login kagi yah...', 'warning')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    \tthis.$router.replace({path: '/login'})\r\n\t\t                    }, 1500)\r\n\t\t                    \r\n\t\t                  })\r\n\t\t                  .catch(e => {\r\n\t\t                    this.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'error')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    }, 1500)\r\n\t\t                    return false\r\n\t\t                  })\r\n\t\t                }\r\n\t\t                else if(e.response.status == 500) {\r\n\t\t\t\t\t\t\tthis.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'error')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    }, 1500)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(e.response)\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\twindow.scrollBy({ \r\n\t\t              top: -500, // could be negative value\r\n\t\t              left: 0, \r\n\t\t              behavior: 'smooth' \r\n\t\t            })\r\n\t\t            return false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(localStorage.level != 1 && localStorage.level != 2 && localStorage.level != 7 && localStorage.level != 3) {\r\n\t\t\t\tthis.$router.push('/')\r\n\t\t\t}\r\n\t\t\tthis.getKaryawan()\r\n\t\t}\r\n\t}\r\n</script>"]}]}