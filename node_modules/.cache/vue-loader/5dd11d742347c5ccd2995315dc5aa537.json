{"remainingRequest":"/home/mikhsanh/Documents/project/alkes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mikhsanh/Documents/project/alkes/src/views/po/EditPO.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mikhsanh/Documents/project/alkes/src/views/po/EditPO.vue","mtime":1584774714617},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1581205341990},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/cache-loader/dist/cjs.js","mtime":1581205342201},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/vue-loader/lib/index.js","mtime":1581205405536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0RGF0YXMsIHBvc3REYXRhfSBmcm9tICdAL2NvbnRhaW5lcnMvZ2xvYmFsLWZ1bmN0aW9uLmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0VkaXRQTycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxldmVsOmxvY2FsU3RvcmFnZS5sZXZlbCwKICAgICAgbGFiZWw6ICdTaW1wYW4gUGVydWJhaGFuJywKICAgICAgdmFsaWRNc2c6ZmFsc2UsCiAgICAgIHNhbGVzc2VsZWN0ZWQ6MSwKICAgICAga29uc3VtZW5zZWxlY3RlZDoxLAogICAgICBzdGF0dXNzZWxlY3RlZDoxLAogICAgICBrdXJpcjogW10sCiAgICAgIHNhbGVzOiBbXSwKICAgICAga29uc3VtZW46IFtdLAogICAgICB2YWxpZGF0b3I6IHsKICAgICAgICBubzpudWxsLAogICAgICAgIG5vX21zZzpudWxsLAogICAgICAgIHRnbF9wb19tYXN1azpudWxsLAogICAgICAgIHRnbF9wb19tYXN1a19tc2c6bnVsbCwKICAgICAgICBkYXRlOm51bGwsCiAgICAgICAgZGF0ZV9tc2c6bnVsbCwKICAgICAgICBkYXRlX2xpbmU6bnVsbCwKICAgICAgICBkYXRlX2xpbmVfbXNnOm51bGwsCiAgICAgICAgamF0dWhfdGVtcG86bnVsbCwKICAgICAgICBqYXR1aF90ZW1wb19tc2c6bnVsbCwKICAgICAgICB0YXhfcmF0ZTogbnVsbCwKICAgICAgICB0YXhfcmF0ZV9tc2c6bnVsbCwKICAgICAgICBzYWxlc19mZWU6IG51bGwsCiAgICAgICAgc2FsZXNfZmVlX21zZzogbnVsbCwKICAgICAgICBvdGhlcjogbnVsbCwKICAgICAgICBvdGhlcl9tc2c6IG51bGwsCiAgICAgIH0sCiAgICAgIHBvOiB7CiAgICAgICAgaWRfc2FsZXM6MSwKICAgICAgICBpZF9rb25zdW1lbjoxLAogICAgICAgIGlkX2t1cmlyOjEsCiAgICAgICAgc3RhdHVzOm51bGwsCiAgICAgICAgbm9fcG86IG51bGwsCiAgICAgICAgZGF0ZTogbnVsbCwKICAgICAgICBkYXRlX2xpbmU6IG51bGwsCiAgICAgICAgamF0dWhfdGVtcG86ICcyMDIwLTAyLTAyJywKICAgICAgICB0YXhfcmF0ZTogbnVsbCwKICAgICAgICBzYWxlc19mZWU6IG51bGwsCiAgICAgICAgb3RoZXI6IG51bGwsCiAgICAgICAgY2F0YXRhbjogbnVsbCwKICAgICAgICB0Z2xfcG9fbWFzdWs6bnVsbCwKICAgICAgICBub19zdXJhdF9qYWxhbjpudWxsLAogICAgICAgIG5vX2ludm9pY2U6bnVsbAogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTdHJpbmdMZW5ndGgoc3RyaW5nKSB7CiAgICAgICAgbGV0IGFyclN0cmluZyA9IHN0cmluZy5zcGxpdCgiICIpCiAgICAgICAgcmV0dXJuIGFyclN0cmluZy5sZW5ndGgKICAgIH0sCiAgICBleHRyYWN0U3RyaW5nKHZhbCwgbnVtID0gMykgewogICAgICBsZXQgYXJyID0gdmFsLnNwbGl0KCIgIiksCiAgICAgICAgICByZXMgPSAnJwogICAgICBpZihudW0gPCAyKSB7CiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgbnVtO2krKykgewogICAgICAgICAgcmVzICs9ICcgJyArIGFycltpXQogICAgICAgIH0KICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICBpZihudW0gPD0gMyApIHsKICAgICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IG51bTtpKyspIHsKICAgICAgICAgICAgcmVzICs9ICcgJyArIGFycltpXQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIG51bSA9IDMKICAgICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IG51bTtpKyspIHsKICAgICAgICAgICAgcmVzICs9ICcgJyArIGFycltpXQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgfQogICAgICByZXR1cm4gcmVzCiAgICB9LAogICAgYXNzaWduS3VyaXIodmFsKSB7CiAgICAgIHRoaXMucG8uaWRfa3VyaXIgPSB2YWwKICAgIH0sCiAgICBhc3NpZ25TdGF0dXModmFsKSB7CiAgICAgIHRoaXMucG8uc3RhdHVzID0gdmFsCiAgICB9LAogICAgYXNzaWduS29uc3VtZW4odmFsKSB7CiAgICAgIHRoaXMucG8uaWRfa29uc3VtZW4gPSB2YWwKICAgIH0sCiAgICBhc3NpZ25TYWxlcyh2YWwpIHsKICAgICAgdGhpcy5wby5pZF9zYWxlcyA9IHZhbAogICAgfSwKICAgIGdldFJlcXVlc3QodXJsLCBmYWxsYmFjaykgewogICAgICB0aGlzLiRodHRwLmdldCh1cmwsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgICAgIH0sCiAgICAgICAgICByZWRpcmVjdDonZm9sbG93JwogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgZmFsbGJhY2socmVzcG9uc2UuZGF0YSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgIGFsZXJ0KCdBZGEgc2VkaWtpdCBlcnJvciEnKQogICAgICAgICAgY29uc29sZS5lcnJvcihlKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXREYXRhKCkgewogICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCkKICAgICAgaGVhZGVycy5hcHBlbmQoJ0F1dGhvcml6YXRpb24nLCAnYmVhcmVyJyArIGxvY2FsU3RvcmFnZS50b2tlbiApCiAgICAgIGxldCBvcHRpb25zID0gewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGhlYWRlcnMsCiAgICAgICAgcmVkaXJlY3Q6J2ZvbGxvdycKICAgICAgfQogICAgICAgZ2V0RGF0YXModGhpcywgbG9jYWxTdG9yYWdlLmJhc2VfYXBpICsgJ3BvLycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIG9wdGlvbnMpCiAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnBvID0gcmVzcG9uc2UKICAgICAgICAgIHRoaXMucG8udGdsX3BvX21hc3VrID0gcmVzcG9uc2UudGdsX3BvX21hc3VrLnNwbGl0KCdUJylbMF0KCiAgICAgICAgICBpZihyZXNwb25zZS5zdGF0dXNfY29kZSA9PSA1MDApIHsKICAgICAgICAgICAgdGhpcy4kc3dhbCgnVGlkYWsgYmlzYSBhbWJpbCBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YS4uLicsICdlcnJvcicpCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJHN3YWwuY2xvc2UoKQogICAgICAgICAgICB9LCAxNTAwKQogICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlLm1lc3NhZ2UpCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICAgfSkKICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAvLyBpZihlLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpIHsKICAgICAgICAvLyAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dvdXQnKQogICAgICAgIC8vICAgLnRoZW4oKCkgPT4gewogICAgICAgIC8vICAgICBsZXQgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmCiAgICAgICAgLy8gICAgIHBhdGggPSBwYXRoLnNwbGl0KCcvJykKICAgICAgICAvLyAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByZXZQYXRoJywgcGF0aFtwYXRoLmxlbmd0aCAtIDFdKQogICAgICAgIC8vICAgICBhbGVydCgnU2Vzc2lvbiBMb2dpbiBrYW11IHN1ZGFoIGhhYmlzISBzaWxhaGthbiBsb2dpbiBrZW1iYWxpJykKICAgICAgICAgICAgCiAgICAgICAgLy8gICB9KQogICAgICAgIC8vICAgLnRoZW4oKCkgPT4gewogICAgICAgIC8vICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7cGF0aDogJy9sb2dpbid9KQogICAgICAgIC8vICAgfSkKICAgICAgICAvLyAgIC5jYXRjaChlID0+IHsKICAgICAgICAvLyAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VyZWQgd2hlbiBnZXQgZGF0YSA6KCcpCiAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZQogICAgICAgIC8vICAgfSkKICAgICAgICAvLyB9CiAgICAgICAgLy8gZWxzZSBpZihlLnJlc3BvbnNlLnN0YXR1cyA9PSA1MDApewogICAgICAgIC8vICAgYWxlcnQoJ0FkYSBzZWRpa2l0IG1hc2FsYWggZGkgc2lzaSBzZXJ2ZXIsIGhhcmFwIGh1YnVuZ2kgcGVuZ2VtYmFuZ255YSA6KScpCiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhlKQogICAgICAgIC8vICAgcmV0dXJuIGZhbHNlCiAgICAgICAgLy8gfQogICAgICAgICAgdGhpcy4kc3dhbCgnVGlkYWsgYmlzYSBhbWJpbCBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YS4uLicsICdlcnJvcicpCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kc3dhbC5jbG9zZSgpCiAgICAgICAgICB9LCAxNTAwKQogICAgICAgICAgcmV0dXJuIGZhbHNlCgogICAgICAgfSkKICAgIH0sCiAgICB1cGRhdGVEYXRhKCkgewogICAgICB0aGlzLmVycm9ycyA9IFtdCgogICAgICBpZighdGhpcy5wby5ub19wbykgewogICAgICAgIHRoaXMudmFsaWRhdG9yLm5vX3BvID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRvci5ub19wb19tc2cgPSAnSGFyYXAgaXNpIG5vbWVyIFBPJwogICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ25vIGtvc29uZycpCiAgICAgIH0KCiAgICAgIGlmKCF0aGlzLnBvLmRhdGUpIHsKICAgICAgICB0aGlzLnZhbGlkYXRvci5kYXRlID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRvci5kYXRlX21zZyA9ICdIYXJhcCBpc2kgVGFuZ2dhbCBQTycKICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdkYXRlIGtvc29uZycpCiAgICAgIH0KCiAgICAgIGlmKCF0aGlzLnBvLmRhdGVfbGluZSkgewogICAgICAgIHRoaXMudmFsaWRhdG9yLmRhdGVfbGluZSA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IuZGF0ZV9saW5lX21zZyA9ICdIYXJhcCBpc2kgdGFuZ2dhbCBwZW5naXJpbWFuJwogICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ2RhdGVfbGluZSBrb3NvbmcnKQogICAgICB9CiAgICAgIC8vIGlmKCF0aGlzLnBvLmphdHVoX3RlbXBvKSB7CiAgICAgIC8vICAgdGhpcy52YWxpZGF0b3IuamF0dWhfdGVtcG8gPSBmYWxzZQogICAgICAvLyAgICAgICAgIHRoaXMudmFsaWRhdG9yLmphdHVoX3RlbXBvX21zZyA9ICdIYXJhcCBpc2kgdGFuZ2dhbCBqYXR1aCB0ZW1wbycKICAgICAgLy8gICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdqYXR1aF90ZW1wbyBrb3NvbmcnKQogICAgICAvLyB9CiAgICAgIGlmKCF0aGlzLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmxhYmVsID0gJ0xvYWRpbmcuLi4nCiAgICAgICAgdGhpcy4kaHR0cC5wb3N0KGxvY2FsU3RvcmFnZS5iYXNlX2FwaSArICdwby9lZGl0LycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHRoaXMucG8sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnYmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgIH0sCiAgICAgICAgICByZWRpcmVjdDonZm9sbG93JwogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMubGFiZWwgPSAnU2ltcGFuIFBlcnViYWhhbicKICAgICAgICAgIHRoaXMuJHN3YWwocmVzLmRhdGEubWVzc2FnZSwgJ01vaG9uIHR1bmdndSBzZWJlbnRhci4uLicsICdzdWNjZXNzJykKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLiRzd2FsLmNsb3NlKCkKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wbycpCiAgICAgICAgICB9LCAxNTAwKQogICAgICAgICAgCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICB0aGlzLmxhYmVsID0gJ1NpbXBhbiBQZXJ1YmFoYW4nCiAgICAgICAgICBpZihlLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ291dCcpCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICBsZXQgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmCiAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJy8nKQogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcmV2UGF0aCcsIHBhdGhbcGF0aC5sZW5ndGggLSAxXSkKICAgICAgICAgICAgICB0aGlzLiRzd2FsKCdTZXNpIGxvZ2luIGthbXUgc3VkYWggaGFiaXMnLCAnbG9naW4gbGFnaSB5YWguLi4nLCAnd2FybmluZycpCiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmNsb3NlKCkKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHtwYXRoOiAnL2xvZ2luJ30pCiAgICAgICAgICAgICAgfSwgMTUwMCkKICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgICB0aGlzLiRzd2FsKCdUaWRhayBiaXNhIHVwZGF0ZSBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YS4uLicsICdlcnJvcicpCiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmNsb3NlKCkKICAgICAgICAgICAgICB9LCAxNTAwKQogICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoJ1RpZGFrIGJpc2EgdXBkYXRlIGRhdGEnLCAnaHVidW5naSBwZW5nZW1iYW5nbnlhLi4uJywgJ2Vycm9yJykKICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuY2xvc2UoKQogICAgICAgICAgICAgIH0sIDE1MDApCiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyhlLnJlc3BvbnNlKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfSkKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMuZXJyb3JzKQogICAgICAgIHdpbmRvdy5zY3JvbGxCeSh7IAogICAgICAgICAgdG9wOiAtNTAwLCAvLyBjb3VsZCBiZSBuZWdhdGl2ZSB2YWx1ZQogICAgICAgICAgbGVmdDogMCwgCiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcgCiAgICAgICAgfSkKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQoKICAgIH0sCiAgICBmZXRjaEFsbCgpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIHRoaXMuZ2V0UmVxdWVzdChsb2NhbFN0b3JhZ2UuYmFzZV9hcGkgKyAnc2FsZXMnLCBmdW5jdGlvbihkYXRhKXsKICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCBkYXRhLmxlbmd0aDtpKyspIHsKICAgICAgICAgIGxldCBvYmogPSB7fQogICAgICAgICAgb2JqLnZhbHVlID0gZGF0YVtpXS5pZAogICAgICAgICAgb2JqLmxhYmVsID0gZGF0YVtpXS5uYW1hX2thcnlhd2FuCiAgICAgICAgICBzZWxmLnNhbGVzLnB1c2gob2JqKQogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5nZXRSZXF1ZXN0KGxvY2FsU3RvcmFnZS5iYXNlX2FwaSArICdrdXJpcicsIGZ1bmN0aW9uKGRhdGEpewogICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IGRhdGEubGVuZ3RoO2krKykgewogICAgICAgICAgbGV0IG9iaiA9IHt9CiAgICAgICAgICBvYmoudmFsdWUgPSBkYXRhW2ldLmlkCiAgICAgICAgICBvYmoubGFiZWwgPSBkYXRhW2ldLm5hbWFfa2FyeWF3YW4KICAgICAgICAgIHNlbGYua3VyaXIucHVzaChvYmopCiAgICAgICAgfQogICAgICB9KQogICAgICB0aGlzLmdldFJlcXVlc3QobG9jYWxTdG9yYWdlLmJhc2VfYXBpICsgJ2tvbnN1bWVuJywgZnVuY3Rpb24oZGF0YSl7CiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgZGF0YS5sZW5ndGg7aSsrKSB7CiAgICAgICAgICBsZXQgb2JqID0ge30KICAgICAgICAgIG9iai52YWx1ZSA9IGRhdGFbaV0uaWQKICAgICAgICAgIG9iai5sYWJlbCA9IGRhdGFbaV0ubmFtYSArICcgLSAnICsgc2VsZi5leHRyYWN0U3RyaW5nKCBkYXRhW2ldLmFsYW1hdCwgc2VsZi5nZXRTdHJpbmdMZW5ndGgoZGF0YVtpXS5hbGFtYXQpICkKICAgICAgICAgIHNlbGYua29uc3VtZW4ucHVzaChvYmopCiAgICAgICAgfQogICAgICAgIHNlbGYuZ2V0RGF0YSgpCiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYobG9jYWxTdG9yYWdlLmxldmVsID09IDUgfHwgbG9jYWxTdG9yYWdlLmxldmVsID09IDQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgfQogICAgdGhpcy5sZXZlbCA9IGxvY2FsU3RvcmFnZS5sZXZlbAogICAgdGhpcy5mZXRjaEFsbCgpCiAgfQp9Cg=="},{"version":3,"sources":["EditPO.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditPO.vue","sourceRoot":"src/views/po","sourcesContent":["<template>\n  <div>\n    <CRow>\n      <CCol sm=\"12\">  \n        <CCard>\n              <CCardHeader>\n                <p>\n                  <strong>Edit</strong> Purchase Order\n                </p>\n              </CCardHeader>\n              <CCardBody>\n                <CForm class=\"mt-4\">\n                  <CRow class=\"mx-auto d-flex justify-content-center\">\n                    <CCol md=\"8\" sm=\"12\">\n                      <p v-show=\"validMsg == true\" class=\"alert alert-success\">\n                        <small>Perbaharuan data PO berhasil!</small>\n                      </p>    \n                      \n                      <input type=\"hidden\" name=\"id\" :id=\"po.id\" ref=\"id\">\n                         <CSelect\n                            label=\"Sales\"\n                            horizontal\n                            v-model=\"po.id_sales\"\n                            :options=\"sales\"\n                            @update:value=\"assignSales\"\n                          />  \n                          <CSelect\n                            label=\"Konsumen\"\n                            horizontal\n                            v-model=\"po.id_konsumen\"\n                            :options=\"konsumen\"\n                            @update:value=\"assignKonsumen\"\n                          />\n                          <div v-if=\"level != 7\">\n                            <CSelect\n                              \n                              label=\"Kurir\"\n                              horizontal\n                              v-model=\"po.id_kurir\"\n                              :options=\"kurir\"\n                              @update:value=\"assignKurir\"\n                            />  \n                          </div>\n                          <CInput\n                            type=\"text\"\n                            :description=\"validator.no_po_msg\"\n                            :is-valid=\"validator.no_po\"\n                            @input=\"po.no_po.length < 1 ? validator.no_po = false : validator.no_po = true\"\n                            autocomplete=\"no_po\"\n                            label=\"Nomer PO\"\n                            horizontal\n                            placeholder=\"Masukan Nomer PO\"\n                            v-model=\"po.no_po\"\n                          />\n                          <div v-if=\"level != 7 && level == 3\">\n                          <CInput\n                            \n                            type=\"text\"\n                            :description=\"validator.no_surat_jalan_msg\"\n                            :is-valid=\"validator.no_surat_jalan\"\n                            @input=\"po.no_surat_jalan.length < 1 ? validator.no_surat_jalan = false : validator.no_surat_jalan = true\"\n                            autocomplete=\"no_surat_jalan\"\n                            label=\"Nomer Surat Jalan\"\n                            horizontal\n                            placeholder=\"Masukan Nomer Surat Jalan\"\n                            v-model=\"po.no_surat_jalan\"\n                          />\n                          <CInput\n                            type=\"text\"\n                            :description=\"validator.no_invoice_msg\"\n                            :is-valid=\"validator.no_invoice\"\n                            @input=\"po.no_invoice.length < 1 ? validator.no_invoice = false : validator.no_invoice = true\"\n                            autocomplete=\"no_invoice\"\n                            label=\"Nomer Invoice\"\n                            horizontal\n                            placeholder=\"Masukan Nomer no_Invoice\"\n                            v-model=\"po.no_invoice\"\n                          />\n                          </div>\n\n                          <CInput\n                            type=\"date\"\n                            :description=\"validator.date_msg\"\n                            :is-valid=\"validator.date\"\n                            @input=\"po.date.length < 1 ? validator.date = false : validator.date = true\"\n                            autocomplete=\"date\"\n                            label=\"Tanggal PO\"\n                            horizontal\n                            placeholder=\"Masukan Tanggal PO\"\n                            v-model=\"po.date\"\n                          />\n                          <CInput\n                            type=\"date\"\n                            :description=\"validator.date_line_msg\"\n                            :is-valid=\"validator.date_line\"\n                            @input=\"po.date_line.length < 1 ? validator.date_line = false : validator.date_line = true\"\n                            autocomplete=\"date_line\"\n                            label=\"Tanggal Pengiriman\"\n                            horizontal\n                            placeholder=\"Masukan Tanggal Pengiriman\"\n                            v-model=\"po.date_line\"\n                          />\n                          <div v-if=\"level != 7\">\n                          <CInput\n                            type=\"date\"\n                            :description=\"validator.jatuh_tempo_msg\"\n                            :is-valid=\"validator.jatuh_tempo\"\n                            @input=\"po.jatuh_tempo.length < 1 ? validator.jatuh_tempo = false : validator.jatuh_tempo = true\"\n                            autocomplete=\"jatuh_tempo\"\n                            label=\"TOP\"\n                            horizontal\n                            placeholder=\"Masukan jatuh_tempo\"\n                            v-model=\"po.jatuh_tempo\"\n                          />\n                          </div>\n                          <CTextarea\n                            label=\"Keterangan\"\n                            placeholder=\"Keterangan\"\n                            horizontal\n                            rows=\"3\"\n                            v-model=\"po.keterangan\"\n                          />\n                          <CInput\n                            type=\"number\"\n                            :description=\"validator.tax_rate_msg\"\n                            :is-valid=\"validator.tax_rate\"\n                            @input=\"po.tax_rate.length < 1 ? validator.tax_rate = false : validator.tax_rate = true\"\n                            autocomplete=\"tax_rate\"\n                            label=\"Tax Rate %\"\n                            horizontal\n                            placeholder=\"Masukan Tax Rate\"\n                            v-model=\"po.tax_rate\"\n                          />\n                          <CInput\n                            type=\"number\"\n                            :description=\"validator.sales_fee_msg\"\n                            :is-valid=\"validator.sales_fee\"\n                            @input=\"po.sales_fee.length < 1 ? validator.sales_fee = false : validator.sales_fee = true\"\n                            autocomplete=\"sales_fee\"\n                            label=\"Sales Fee\"\n                            horizontal\n                            placeholder=\"Masukan Sales Fee\"\n                            v-model=\"po.sales_fee\"\n                          />\n                          <CInput\n                            type=\"number\"\n                            :description=\"validator.other_msg\"\n                            :is-valid=\"validator.other\"\n                            @input=\"po.other.length < 1 ? validator.other = false : validator.other = true\"\n                            autocomplete=\"other\"\n                            label=\"Other\"\n                            horizontal\n                            placeholder=\"Other\"\n                            v-model=\"po.other\"\n                            readonly\n                          />\n                          <CTextarea\n                            label=\"Catatan\"\n                            placeholder=\"Catatan\"\n                            horizontal\n                            rows=\"3\"\n                            v-model=\"po.catatan\"\n                          />\n                  </CCol>\n                </CRow>\n                </CForm>\n              </CCardBody>\n              <CCardFooter class=\"d-flex justify-content-center mt-4\">\n                <CButton type=\"submit\" @click.prevent=\"updateData\" color=\"primary\" class=\"mr-2\">\n                  <i class=\"fa fa-edit mr-2\"></i>{{label}}              \n                </CButton>\n              </CCardFooter>\n            </CCard>\n      </CCol>\n    </CRow>\n  </div>\n</template>\n<script>\n  import {getDatas, postData} from '@/containers/global-function.js'\n  export default {\n    name: 'EditPO',\n    data() {\n      return {\n        level:localStorage.level,\n        label: 'Simpan Perubahan',\n        validMsg:false,\n        salesselected:1,\n        konsumenselected:1,\n        statusselected:1,\n        kurir: [],\n        sales: [],\n        konsumen: [],\n        validator: {\n          no:null,\n          no_msg:null,\n          tgl_po_masuk:null,\n          tgl_po_masuk_msg:null,\n          date:null,\n          date_msg:null,\n          date_line:null,\n          date_line_msg:null,\n          jatuh_tempo:null,\n          jatuh_tempo_msg:null,\n          tax_rate: null,\n          tax_rate_msg:null,\n          sales_fee: null,\n          sales_fee_msg: null,\n          other: null,\n          other_msg: null,\n        },\n        po: {\n          id_sales:1,\n          id_konsumen:1,\n          id_kurir:1,\n          status:null,\n          no_po: null,\n          date: null,\n          date_line: null,\n          jatuh_tempo: '2020-02-02',\n          tax_rate: null,\n          sales_fee: null,\n          other: null,\n          catatan: null,\n          tgl_po_masuk:null,\n          no_surat_jalan:null,\n          no_invoice:null\n        }\n      }\n    },\n    methods: {\n      getStringLength(string) {\n          let arrString = string.split(\" \")\n          return arrString.length\n      },\n      extractString(val, num = 3) {\n        let arr = val.split(\" \"),\n            res = ''\n        if(num < 2) {\n          for(let i = 0;i < num;i++) {\n            res += ' ' + arr[i]\n          }\n        }\n        else {\n          if(num <= 3 ) {\n            for(let i = 0;i < num;i++) {\n              res += ' ' + arr[i]\n            }\n          }\n          else {\n            num = 3\n            for(let i = 0;i < num;i++) {\n              res += ' ' + arr[i]\n            }\n          }\n          \n        }\n        return res\n      },\n      assignKurir(val) {\n        this.po.id_kurir = val\n      },\n      assignStatus(val) {\n        this.po.status = val\n      },\n      assignKonsumen(val) {\n        this.po.id_konsumen = val\n      },\n      assignSales(val) {\n        this.po.id_sales = val\n      },\n      getRequest(url, fallback) {\n        this.$http.get(url, {\n          headers: {\n              'Authorization': 'bearer ' + localStorage.getItem('token')\n            },\n            redirect:'follow'\n          })\n          .then(response => {\n            fallback(response.data)\n          })\n          .catch(e => {\n            alert('Ada sedikit error!')\n            console.error(e)\n            return false\n          })\n      },\n      getData() {\n        let headers = new Headers()\n        headers.append('Authorization', 'bearer' + localStorage.token )\n        let options = {\n          method: 'POST',\n          headers,\n          redirect:'follow'\n        }\n         getDatas(this, localStorage.base_api + 'po/' + this.$route.params.id, options)\n         .then(response => {\n            this.po = response\n            this.po.tgl_po_masuk = response.tgl_po_masuk.split('T')[0]\n\n            if(response.status_code == 500) {\n              this.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'error')\n              setTimeout(() => {\n                this.$swal.close()\n              }, 1500)\n              console.error(response.message)\n              return false\n            }\n         })\n         .catch(e => {\n          // if(e.response.status == 401) {\n          //   this.$store.dispatch('logout')\n          //   .then(() => {\n          //     let path = window.location.href\n          //     path = path.split('/')\n          //     localStorage.setItem('prevPath', path[path.length - 1])\n          //     alert('Session Login kamu sudah habis! silahkan login kembali')\n              \n          //   })\n          //   .then(() => {\n          //     this.$router.replace({path: '/login'})\n          //   })\n          //   .catch(e => {\n          //     alert('An error occured when get data :(')\n          //     return false\n          //   })\n          // }\n          // else if(e.response.status == 500){\n          //   alert('Ada sedikit masalah di sisi server, harap hubungi pengembangnya :)')\n          //   console.log(e)\n          //   return false\n          // }\n            this.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'error')\n            setTimeout(() => {\n              this.$swal.close()\n            }, 1500)\n            return false\n\n         })\n      },\n      updateData() {\n        this.errors = []\n\n        if(!this.po.no_po) {\n          this.validator.no_po = false\n                this.validator.no_po_msg = 'Harap isi nomer PO'\n                this.errors.push('no kosong')\n        }\n\n        if(!this.po.date) {\n          this.validator.date = false\n                this.validator.date_msg = 'Harap isi Tanggal PO'\n                this.errors.push('date kosong')\n        }\n\n        if(!this.po.date_line) {\n          this.validator.date_line = false\n                this.validator.date_line_msg = 'Harap isi tanggal pengiriman'\n                this.errors.push('date_line kosong')\n        }\n        // if(!this.po.jatuh_tempo) {\n        //   this.validator.jatuh_tempo = false\n        //         this.validator.jatuh_tempo_msg = 'Harap isi tanggal jatuh tempo'\n        //         this.errors.push('jatuh_tempo kosong')\n        // }\n        if(!this.errors.length) {\n          this.label = 'Loading...'\n          this.$http.post(localStorage.base_api + 'po/edit/' + this.$route.params.id, this.po, {\n            headers: {\n              'Authorization': 'bearer ' + localStorage.token\n            },\n            redirect:'follow'\n          })\n          .then(res => {\n            this.label = 'Simpan Perubahan'\n            this.$swal(res.data.message, 'Mohon tunggu sebentar...', 'success')\n            setTimeout(() => {\n              this.$swal.close()\n              this.$router.push('/po')\n            }, 1500)\n            \n          })\n          .catch(e => {\n            this.label = 'Simpan Perubahan'\n            if(e.response.status == 401) {\n              this.$store.dispatch('logout')\n              .then(() => {\n                let path = window.location.href\n                path = path.split('/')\n                localStorage.setItem('prevPath', path[path.length - 1])\n                this.$swal('Sesi login kamu sudah habis', 'login lagi yah...', 'warning')\n                setTimeout(() => {\n                  this.$swal.close()\n                  this.$router.replace({path: '/login'})\n                }, 1500)\n                       \n              })\n              .catch(e => {\n                this.$swal('Tidak bisa update data', 'hubungi pengembangnya...', 'error')\n                setTimeout(() => {\n                  this.$swal.close()\n                }, 1500)\n                return false\n              })\n            }\n            else {\n              this.$swal('Tidak bisa update data', 'hubungi pengembangnya...', 'error')\n                setTimeout(() => {\n                  this.$swal.close()\n                }, 1500)\n            }\n            console.log(e.response)\n            return false\n          })\n        }\n        else {\n          console.error(this.errors)\n          window.scrollBy({ \n            top: -500, // could be negative value\n            left: 0, \n            behavior: 'smooth' \n          })\n          return false\n        }\n\n      },\n      fetchAll() {\n        let self = this\n        this.getRequest(localStorage.base_api + 'sales', function(data){\n          for(let i = 0;i < data.length;i++) {\n            let obj = {}\n            obj.value = data[i].id\n            obj.label = data[i].nama_karyawan\n            self.sales.push(obj)\n          }\n        })\n        this.getRequest(localStorage.base_api + 'kurir', function(data){\n          for(let i = 0;i < data.length;i++) {\n            let obj = {}\n            obj.value = data[i].id\n            obj.label = data[i].nama_karyawan\n            self.kurir.push(obj)\n          }\n        })\n        this.getRequest(localStorage.base_api + 'konsumen', function(data){\n          for(let i = 0;i < data.length;i++) {\n            let obj = {}\n            obj.value = data[i].id\n            obj.label = data[i].nama + ' - ' + self.extractString( data[i].alamat, self.getStringLength(data[i].alamat) )\n            self.konsumen.push(obj)\n          }\n          self.getData()\n        })\n      }\n    },\n    created() {\n      if(localStorage.level == 5 || localStorage.level == 4) {\n        this.$router.push('/')\n      }\n      this.level = localStorage.level\n      this.fetchAll()\n    }\n  }\n</script>"]}]}