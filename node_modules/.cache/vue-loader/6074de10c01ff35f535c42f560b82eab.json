{"remainingRequest":"/home/mikhsanh/Documents/project/alkes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mikhsanh/Documents/project/alkes/src/views/users/EditUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mikhsanh/Documents/project/alkes/src/views/users/EditUser.vue","mtime":1588865373632},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1581205341990},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/cache-loader/dist/cjs.js","mtime":1581205342201},{"path":"/home/mikhsanh/Documents/project/alkes/node_modules/vue-loader/lib/index.js","mtime":1581205405536}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0RGF0YXN9IGZyb20gJ0AvY29udGFpbmVycy9nbG9iYWwtZnVuY3Rpb24uanMnCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6IkVkaXRVc2VyIiwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJbGFiZWw6ICdTaW1wYW4gUGVydWJhaGFuJywKCQkJdmFsaWRhdG9yOiB7CgkJCQllbWFpbDpudWxsLAoJCQkJZW1haWxfbXNnOm51bGwKCQkJfSwKCQkJdXNlcjogewoJCQkJaWQ6MSwKCQkJCWlkX2thcnlhd2FuOjEsCgkJCQluYW1hOm51bGwsCgkJCQllbWFpbDpudWxsLAoJCQkJdXNlcm5hbWU6bnVsbCwKCQkJCWlkX2xldmVsOm51bGwKCQkJfSwKCQkJamFiYXRhbjogW10sCgkJCWthcnlhd2FuOiBbXSwKCQkJZGF0YV9rYXJ5YXdhbjpbXSwKCQkJdmFsaWRNc2c6ZmFsc2UsCgkJCWVycm9yczpbXSwKCQl9Cgl9LAoJbWV0aG9kczogewoJCWdldEphYmF0YW4oKSB7CgkJCWdldERhdGFzKHRoaXMsIGxvY2FsU3RvcmFnZS5iYXNlX2FwaSArICdqYWJhdGFuJywgewoJCQkJbWV0aG9kOiAncG9zdCcsCiAgICAgIAkJCWhlYWRlcnM6IHsKICAgICAgCQkJCSdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgIAkJCX0KICAgICAgCQl9KQogICAgICAJCS50aGVuKHJlcyA9PiB7CiAgICAgIAkJCS8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAJCQlmb3IobGV0IGkgPSAwO2kgPCByZXMubGVuZ3RoO2krKykgewogICAgICAJCQkJbGV0IG9iaiA9IHt9CiAgICAgIAkJCQlvYmoudmFsdWUgPSByZXNbaV0uaWQKICAgICAgCQkJCW9iai5sYWJlbCA9IHJlc1tpXS5uYW1hCiAgICAgIAkJCQl0aGlzLmphYmF0YW4ucHVzaChvYmopCiAgICAgIAkJCX0KICAgICAgCQl9KQogICAgICAJCS50aGVuKCgpID0+IHsKICAgICAgCQkJdGhpcy5nZXREYXRhKCkKICAgICAgCQl9KQogICAgICAJCS5jYXRjaChlID0+IHsKICAgICAgCQkJdGhpcy5sYWJlbCA9ICdUYW1iYWggS2FyeWF3YW4nCgkJCQljb25zb2xlLmVycm9yKGUpCiAgICAgIAkJCXJldHVybiBmYWxzZQogICAgICAJCX0pCgkJfSwKCQlnZXRLYXJ5YXdhbigpIHsKCQkJbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpCgkJCWhlYWRlcnMuYXBwZW5kKCdBdXRob3JpemF0aW9uJywgJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpCgkJCWxldCBvcHRpb25zID0gewoJCQkJbWV0aG9kOidHRVQnLAoJCQkJaGVhZGVycywKCQkJCXJlZGlyZWN0Oidmb2xsb3cnCgkJCX0KCQkJZ2V0RGF0YXModGhpcywgbG9jYWxTdG9yYWdlLmJhc2VfYXBpICsgJ2thcnlhd2FuJywgb3B0aW9ucykKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMuZGF0YV9rYXJ5YXdhbiA9IHJlcwoJCQkJZm9yKGxldCBpID0gMDtpIDwgcmVzLmxlbmd0aDtpKyspIHsKICAgICAgCQkJCWxldCBvYmogPSB7fQogICAgICAJCQkJb2JqLnZhbHVlID0gcmVzW2ldLmlkCiAgICAgIAkJCQlvYmoubGFiZWwgPSByZXNbaV0ubmFtYV9rYXJ5YXdhbgogICAgICAJCQkJdGhpcy5rYXJ5YXdhbi5wdXNoKG9iaikKICAgICAgCQkJfQoJCQl9KQoJCQkudGhlbigoKSA9PiB7CgkJCQl0aGlzLmdldEphYmF0YW4oKQoJCQl9KQoJCQkuY2F0Y2goZSA9PiB7CgkJCQl0aGlzLmxhYmVsID0gJ1RhbWJhaCBLYXJ5YXdhbicKCQkJCWlmKGUucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9nb3V0JykKICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBwYXRoID0gd2luZG93LmxvY2F0aW9uLmhyZWYKICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zcGxpdCgnLycpCiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByZXZQYXRoJywgcGF0aFtwYXRoLmxlbmd0aCAtIDFdKQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ1Nlc2kgbG9naW4ga2FtdSBzdWRhaCBoYWJpcycsICdsb2dpbiBrYWdpIHlhaC4uLicsICd3YXJuaW5nJykKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAJdGhpcy4kc3dhbC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHJvdXRlci5yZXBsYWNlKHtwYXRoOiAnL2xvZ2luJ30pCiAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ1RpZGFrIGJpc2EgYW1iaWwgZGF0YScsICdodWJ1bmdpIHBlbmdlbWJhbmdueWEuLi4nLCAnZGFuZ2VyJykKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAJdGhpcy4kc3dhbC5jbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHJvdXRlci5yZXBsYWNlKHtwYXRoOiAnL2xvZ2luJ30pCiAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCkKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYoZS5yZXNwb25zZS5zdGF0dXMgPT0gNTAwKSB7CgkJCQkJdGhpcy4kc3dhbCgnVGlkYWsgYmlzYSBhbWJpbCBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YS4uLicsICdkYW5nZXInKQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIAl0aGlzLiRzd2FsLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAJdGhpcy4kcm91dGVyLnJlcGxhY2Uoe3BhdGg6ICcvbG9naW4nfSkKICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQoJCQkJfQogICAgICAJCQlyZXR1cm4gZmFsc2UKCQkJfSkKCQl9LAoJCWFzc2lnbkthcnlhd2FuKHZhbCkgewoJCQl0aGlzLnVzZXIubmFtYSA9IHZhbAoJCQl0aGlzLmRhdGFfa2FyeWF3YW4uZm9yRWFjaCgoaXRlbSwgaSkgPT4gewoJCQkJaWYodmFsID09IGl0ZW0uaWQpIHsKCQkJCQl0aGlzLnVzZXIuZW1haWwgPSBpdGVtLmVtYWlsCgkJCQkJZmV0Y2gobG9jYWxTdG9yYWdlLmJhc2VfYXBpICsgJ2thcnlhd2FuLycgKyB2YWwsIHsKCQkJCQkJbWV0aG9kOidQT1NUJywKCQkJCQkJaGVhZGVyczogewoJCQkJCQkJJ0F1dGhvcml6YXRpb24nOiAnYmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UudG9rZW4KCQkJCQkJfQoJCQkJCX0pCgkJCQkJLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCgkJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQkJdGhpcy51c2VyLmlkX2xldmVsID0gcmVzLmlkX2phYmF0YW4KCQkJCQl9KQoJCQkJfQoJCQl9KQoJCX0sCgkJYXNzaWduSmFiYXRhbih2YWwpIHsKCQkJdGhpcy51c2VyLmlkX2xldmVsID0gdmFsCgkJfSwKCQlnZXREYXRhKCkgewoKCQkJbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpCgkJCWhlYWRlcnMuYXBwZW5kKCdBdXRob3JpemF0aW9uJywgJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLnRva2VuKQoJCQlsZXQgb3B0aW9ucyA9IHsKCQkJCW1ldGhvZDogJ1BPU1QnLAoJCQkJaGVhZGVycywKCQkJCXJlZGlyZWN0Oidmb2xsb3cnCgkJCX0KCQkJZ2V0RGF0YXModGhpcywgbG9jYWxTdG9yYWdlLmJhc2VfYXBpICsgJ3VzZXIvJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgb3B0aW9ucykKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMudXNlciA9IHJlcwoJCQl9KQkKCQkJLmNhdGNoKGUgPT4gewoJCQkJdGhpcy5sYWJlbCA9ICdTaW1wYW4gUGVydWJhaGFuJwoJCQkJcmV0dXJuIGZhbHNlCgkJCX0pCgkJfSwKCQl1cGRhdGVVc2VyKCkgewoJCQl0aGlzLmVycm9ycyA9IFtdCgkJCWlmKCF0aGlzLnVzZXIuZW1haWwpIHsKCQkJCXRoaXMudmFsaWRhdG9yLmVtYWlsID0gZmFsc2UKCSAgICAgICAgICAgIHRoaXMudmFsaWRhdG9yLmVtYWlsX21zZyA9ICdIYXJhcCBpc2kgZW1haWwga2FyeWF3YW4nCgkgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdlbWFpbCBrYXJ5YXdhbiBrb3NvbmcnKQoJCQl9CgoJCQlpZighdGhpcy5lcnJvcnMubGVuZ3RoKSB7CgkJCQl0aGlzLmxhYmVsID0gJ0xvYWRpbmcuLi4nCgkJCQlsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQoJCQlmb3JtRGF0YS5hcHBlbmQoJ2lkX2thcnlhd2FuJywgdGhpcy51c2VyLmlkKQoJCQlmb3JtRGF0YS5hcHBlbmQoJ2VtYWlsJywgdGhpcy51c2VyLmVtYWlsKQoJCQlmb3JtRGF0YS5hcHBlbmQoJ2xldmVsJywgdGhpcy51c2VyLmlkX2xldmVsKQoJCQkKCQkJCXRoaXMuJGh0dHAucG9zdChsb2NhbFN0b3JhZ2UuYmFzZV9hcGkgKyAndXNlci9lZGl0LycgKyB0aGlzLnVzZXIuaWQsIGZvcm1EYXRhLCB7CgkJCQkJaGVhZGVyczp7CgkJCQkJCSdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKCQkJCQl9CgkJCQl9KQoJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQl0aGlzLmxhYmVsID0gJ1NpbXBhbiBQZXJ1YmFoYW4nCgkJCQkJdGhpcy4kc3dhbCgnVXBkYXRlIGRhdGEgdXNlciBiZXJoYXNpbCcsICdNb2hvbiB0dW5nZ3Ugc2ViZW50YXIuLi4nLCAnc3VjY2VzcycpCgkJCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQkJCXRoaXMuJHN3YWwuY2xvc2UoKQoJCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXInKQkKCQkJCQl9LCAxNTAwKQoJCQkJCQoJCQkJfSkKCQkJCS5jYXRjaChlID0+IHsKCQkJCQl0aGlzLmxhYmVsID0gJ1NpbXBhbiBQZXJ1YmFoYW4nCgkJCQkJZm9yKGxldCBpdGVtIGluIGUucmVzcG9uc2UuZGF0YS5lcnJtc2cpIHsKCQkJCQkJdGhpcy4kc3dhbChlLnJlc3BvbnNlLmRhdGEuZXJybXNnW2l0ZW1dWzBdLCAnaHVidW5naSBwZW5nZW1iYW5nbnlhIHlhaCcsICdlcnJvcicpCgkgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewoJICAgICAgICAgICAgICAgICAgICAJdGhpcy4kc3dhbC5jbG9zZSgpCgkgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApCQoJCQkJCX0KCQkJCQlyZXR1cm4gZmFsc2UKCQkJCX0pCgkJCX0KCQl9Cgl9LAoJY3JlYXRlZCgpIHsKCQlpZihsb2NhbFN0b3JhZ2UubGV2ZWwgIT0gMSAmJiBsb2NhbFN0b3JhZ2UubGV2ZWwgIT0gMikgewoJCQl0aGlzLiRyb3V0ZXIucHVzaCgnLycpCgkJfQoJCXRoaXMuZ2V0S2FyeWF3YW4oKQkKCX0KfQo="},{"version":3,"sources":["EditUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditUser.vue","sourceRoot":"src/views/users","sourcesContent":["<template>\n\t<div>\n\t\t<CCard>\n\t\t\t<CCardHeader>\n\t\t\t\t<p><b>Edit</b> User</p>\n\t\t\t</CCardHeader>\n\t\t\t<CCardBody>\n\t\t\t\t<CForm class=\"mt-4\">\n\t\t\t\t\t<CRow class=\"mx-auto d-flex justify-content-center\">\n\t\t\t\t\t\t<CCol sm=\"12\" md=\"8\">\n\t\t\t\t\t\t\t  <p v-show=\"validMsg == true\" class=\"alert alert-success\">\n\t\t                        <small>Update Data User berhasil!</small>\n\t\t                      </p>    \n\n\t\t                    <CSelect\n\t\t                        description=\"Masukan Nama Karyawan\"\n\t\t                        label=\"Nama Karyawan\"\n\t\t                        horizontal\n\t\t                        v-model=\"user.id\"\n\t\t                        :options=\"karyawan\"\n\t\t                        @update:value=\"assignKaryawan\"\n\t\t                      />\n\t\t\t\t            <CInput\n\t\t                        type=\"email\"\n\t\t                        :description=\"validator.email_msg\"\n\t\t                        :is-valid=\"validator.email\"\n\t\t                        @input=\"karyawan.email.length < 1 ? validator.email = false : validator.email = true\"\n\t\t                        autocomplete=\"email\"\n\t\t                        label=\"Email\"\n\t\t                        horizontal\n\t\t                        placeholder=\"Masukan Email\"\n\t\t                        v-model=\"user.email\"\n\t\t                        readonly\n\t\t                      />  \n\t\t                      <CSelect\n\t\t                      label=\"Jabatan\"\n\t\t                      horizontal\n\t\t                      v-model=\"user.id_level\"\n\t\t                      :options=\"jabatan\"\n\t\t                      @update:value=\"assignJabatan\"\n\t\t                      readonly  \n\t\t                      />\n\t                        \n\t\t\t\t\t\t</CCol>\n\t\t\t\t\t</CRow>\n\t\t\t\t</CForm>\n\t\t\t</CCardBody>\n\t\t\t<CCardFooter class=\"d-flex justify-content-center mt-4\">\n\t\t\t\t<CButton type=\"submit\" color=\"primary\" @click.prevent=\"updateUser\">\n\t\t\t\t\t<i class=\"fa fa-edit mr-1\"></i>{{label}}\n\t\t\t\t</CButton>\n\t\t\t</CCardFooter>\n\t\t</CCard>\n\t</div>\n</template>\n<script type=\"text/javascript\">\n\timport {getDatas} from '@/containers/global-function.js'\n\texport default {\n\t\tname:\"EditUser\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlabel: 'Simpan Perubahan',\n\t\t\t\tvalidator: {\n\t\t\t\t\temail:null,\n\t\t\t\t\temail_msg:null\n\t\t\t\t},\n\t\t\t\tuser: {\n\t\t\t\t\tid:1,\n\t\t\t\t\tid_karyawan:1,\n\t\t\t\t\tnama:null,\n\t\t\t\t\temail:null,\n\t\t\t\t\tusername:null,\n\t\t\t\t\tid_level:null\n\t\t\t\t},\n\t\t\t\tjabatan: [],\n\t\t\t\tkaryawan: [],\n\t\t\t\tdata_karyawan:[],\n\t\t\t\tvalidMsg:false,\n\t\t\t\terrors:[],\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetJabatan() {\n\t\t\t\tgetDatas(this, localStorage.base_api + 'jabatan', {\n\t\t\t\t\tmethod: 'post',\n\t      \t\t\theaders: {\n\t      \t\t\t\t'Authorization': 'bearer ' + localStorage.token\n\t      \t\t\t}\n\t      \t\t})\n\t      \t\t.then(res => {\n\t      \t\t\t// console.log(res.data)\n\t      \t\t\tfor(let i = 0;i < res.length;i++) {\n\t      \t\t\t\tlet obj = {}\n\t      \t\t\t\tobj.value = res[i].id\n\t      \t\t\t\tobj.label = res[i].nama\n\t      \t\t\t\tthis.jabatan.push(obj)\n\t      \t\t\t}\n\t      \t\t})\n\t      \t\t.then(() => {\n\t      \t\t\tthis.getData()\n\t      \t\t})\n\t      \t\t.catch(e => {\n\t      \t\t\tthis.label = 'Tambah Karyawan'\n\t\t\t\t\tconsole.error(e)\n\t      \t\t\treturn false\n\t      \t\t})\n\t\t\t},\n\t\t\tgetKaryawan() {\n\t\t\t\tlet headers = new Headers()\n\t\t\t\theaders.append('Authorization', 'bearer ' + localStorage.getItem('token'))\n\t\t\t\tlet options = {\n\t\t\t\t\tmethod:'GET',\n\t\t\t\t\theaders,\n\t\t\t\t\tredirect:'follow'\n\t\t\t\t}\n\t\t\t\tgetDatas(this, localStorage.base_api + 'karyawan', options)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.data_karyawan = res\n\t\t\t\t\tfor(let i = 0;i < res.length;i++) {\n\t      \t\t\t\tlet obj = {}\n\t      \t\t\t\tobj.value = res[i].id\n\t      \t\t\t\tobj.label = res[i].nama_karyawan\n\t      \t\t\t\tthis.karyawan.push(obj)\n\t      \t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getJabatan()\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tthis.label = 'Tambah Karyawan'\n\t\t\t\t\tif(e.response.status == 401) {\n\t                  this.$store.dispatch('logout')\n\t                  .then(() => {\n\t                    let path = window.location.href\n\t                    path = path.split('/')\n\t                    localStorage.setItem('prevPath', path[path.length - 1])\n\t                    this.$swal('Sesi login kamu sudah habis', 'login kagi yah...', 'warning')\n\t                    setTimeout(() => {\n\t                    \tthis.$swal.close()\n\t                    \tthis.$router.replace({path: '/login'})\n\t                    }, 1500)\n\t                    \n\t                  })\n\t                  .catch(e => {\n\t                    this.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'danger')\n\t                    setTimeout(() => {\n\t                    \tthis.$swal.close()\n\t                    \tthis.$router.replace({path: '/login'})\n\t                    }, 1500)\n\t                    return false\n\t                  })\n\t                }\n\t                else if(e.response.status == 500) {\n\t\t\t\t\t\tthis.$swal('Tidak bisa ambil data', 'hubungi pengembangnya...', 'danger')\n\t                    setTimeout(() => {\n\t                    \tthis.$swal.close()\n\t                    \tthis.$router.replace({path: '/login'})\n\t                    }, 1500)\n\t                    return false\n\t\t\t\t\t}\n\t      \t\t\treturn false\n\t\t\t\t})\n\t\t\t},\n\t\t\tassignKaryawan(val) {\n\t\t\t\tthis.user.nama = val\n\t\t\t\tthis.data_karyawan.forEach((item, i) => {\n\t\t\t\t\tif(val == item.id) {\n\t\t\t\t\t\tthis.user.email = item.email\n\t\t\t\t\t\tfetch(localStorage.base_api + 'karyawan/' + val, {\n\t\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'Authorization': 'bearer ' + localStorage.token\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tthis.user.id_level = res.id_jabatan\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tassignJabatan(val) {\n\t\t\t\tthis.user.id_level = val\n\t\t\t},\n\t\t\tgetData() {\n\n\t\t\t\tlet headers = new Headers()\n\t\t\t\theaders.append('Authorization', 'bearer ' + localStorage.token)\n\t\t\t\tlet options = {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders,\n\t\t\t\t\tredirect:'follow'\n\t\t\t\t}\n\t\t\t\tgetDatas(this, localStorage.base_api + 'user/' + this.$route.params.id, options)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.user = res\n\t\t\t\t})\t\n\t\t\t\t.catch(e => {\n\t\t\t\t\tthis.label = 'Simpan Perubahan'\n\t\t\t\t\treturn false\n\t\t\t\t})\n\t\t\t},\n\t\t\tupdateUser() {\n\t\t\t\tthis.errors = []\n\t\t\t\tif(!this.user.email) {\n\t\t\t\t\tthis.validator.email = false\n\t\t            this.validator.email_msg = 'Harap isi email karyawan'\n\t\t            this.errors.push('email karyawan kosong')\n\t\t\t\t}\n\n\t\t\t\tif(!this.errors.length) {\n\t\t\t\t\tthis.label = 'Loading...'\n\t\t\t\t\tlet formData = new FormData()\n\t\t\t\tformData.append('id_karyawan', this.user.id)\n\t\t\t\tformData.append('email', this.user.email)\n\t\t\t\tformData.append('level', this.user.id_level)\n\t\t\t\t\n\t\t\t\t\tthis.$http.post(localStorage.base_api + 'user/edit/' + this.user.id, formData, {\n\t\t\t\t\t\theaders:{\n\t\t\t\t\t\t\t'Authorization': 'bearer ' + localStorage.getItem('token')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.label = 'Simpan Perubahan'\n\t\t\t\t\t\tthis.$swal('Update data user berhasil', 'Mohon tunggu sebentar...', 'success')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.$swal.close()\n\t\t\t\t\t\t\tthis.$router.push('/user')\t\n\t\t\t\t\t\t}, 1500)\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tthis.label = 'Simpan Perubahan'\n\t\t\t\t\t\tfor(let item in e.response.data.errmsg) {\n\t\t\t\t\t\t\tthis.$swal(e.response.data.errmsg[item][0], 'hubungi pengembangnya yah', 'error')\n\t\t                    setTimeout(() => {\n\t\t                    \tthis.$swal.close()\n\t\t                    }, 1500)\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tif(localStorage.level != 1 && localStorage.level != 2) {\n\t\t\t\tthis.$router.push('/')\n\t\t\t}\n\t\t\tthis.getKaryawan()\t\n\t\t}\n\t}\n</script>"]}]}