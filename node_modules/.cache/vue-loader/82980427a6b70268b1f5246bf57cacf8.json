{"remainingRequest":"C:\\Users\\ji\\alkes\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ji\\alkes\\src\\views\\produk\\EditBarangPesanan.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ji\\alkes\\src\\views\\produk\\EditBarangPesanan.vue","mtime":1581359240005},{"path":"C:\\Users\\ji\\alkes\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581359171958},{"path":"C:\\Users\\ji\\alkes\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1581359161356},{"path":"C:\\Users\\ji\\alkes\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581359171958},{"path":"C:\\Users\\ji\\alkes\\node_modules\\vue-loader\\lib\\index.js","mtime":1581359235552}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0RGF0YXN9IGZyb20gJ0AvY29udGFpbmVycy9nbG9iYWwtZnVuY3Rpb24uanMnCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6IkVkaXRCYXJhbmdQZXNhbmFuIiwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJbGFiZWw6ICdTaW1wYW4gUGVydWJhaGFuJywKCQkJdmFsaWRhdG9yOiB7CgkJCQlubzpudWxsLAoJCQkJbm9fbXNnOm51bGwsCgkJCQl0YW5nZ2FsOm51bGwsCgkJCQl0YW5nZ2FsX21zZzpudWxsCgkJCX0sCgkJCWJhcmFuZ19wZXNhbmFuOiB7CgkJCQlubzogbnVsbCwKCQkJCXRhbmdnYWw6bnVsbCwKCQkJCXRhbmdnYWxfcGVzYW5hbjpudWxsLAoJCQkJa2V0ZXJhbmdhbjpudWxsCgkJCX0sCgkJCXZhbGlkTXNnOmZhbHNlLAoJCQllcnJvcnM6W10KCQl9Cgl9LAoJbWV0aG9kczogewoKCQl1cGRhdGVCYXJhbmdQZXNhbmFuKCkgewoJCQl0aGlzLmVycm9ycyA9IFtdCgkJCWlmKCF0aGlzLmJhcmFuZ19wZXNhbmFuLm5vKSB7CgkJCQl0aGlzLnZhbGlkYXRvci5ubyA9IGZhbHNlCgkgICAgICAgICAgICB0aGlzLnZhbGlkYXRvci5ub19tc2cgPSAnSGFyYXAgaXNpIG5vIGthcnlhd2FuJwoJICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnbm8gcGVzYW5hbiBrb3NvbmcnKQoJCQl9CgkJCWlmKCF0aGlzLmJhcmFuZ19wZXNhbmFuLnRhbmdnYWxfcGVzYW5hbikgewoJCQkJdGhpcy52YWxpZGF0b3IudGFuZ2dhbF9wZXNhbmFuID0gZmFsc2UKCSAgICAgICAgICAgIHRoaXMudmFsaWRhdG9yLnRhbmdnYWxfcGVzYW5hbl9tc2cgPSAnSGFyYXAgaXNpIHRhbmdnYWxfcGVzYW5hbiBrYXJ5YXdhbicKCSAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ3RhbmdnYWwgcGVzYW5hbiBrb3NvbmcnKQoJCQl9CgoJCQlpZighdGhpcy5lcnJvcnMubGVuZ3RoKSB7CgkJCQljb25zb2xlLmxvZyh0aGlzLmJhcmFuZ19wZXNhbmFuKQoJCQkJCgkJCQl0aGlzLmJhcmFuZ19wZXNhbmFuLnRhbmdnYWwgPSB0aGlzLmJhcmFuZ19wZXNhbmFuLnRhbmdnYWxfcGVzYW5hbgoJCQkJdGhpcy5sYWJlbCA9ICdMb2FkaW5nLi4uJwoJCQkJdGhpcy4kaHR0cC5wb3N0KGxvY2FsU3RvcmFnZS5iYXNlX2FwaSArICdiYXJhbmcvcGVzYW5hbi9lZGl0LycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHRoaXMuYmFyYW5nX3Blc2FuYW4sIHsKCQkJCQloZWFkZXJzOiB7CgkJCQkJCSdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKCQkJCQl9LAoJCQkJCXJlZGlyZWN0Oidmb2xsb3cnCgkJCQl9KQoJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQl0aGlzLmxhYmVsID0gJ1NpbXBhbiBQZXJ1YmFoYW4nCgkJCQkJdGhpcy4kc3dhbChyZXMuZGF0YS5tZXNzYWdlLCAnTW9ob24gdHVuZ2d1IHNlYmVudGFyLi4uJywgJ3N1Y2Nlc3MnKQoJCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQl0aGlzLiRzd2FsLmNsb3NlKCkKCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goJy9iYXJhbmctcGVzYW5hbicpCQoJCQkJCX0sIDE1MDApCgkJCQkJCgkJCQl9KQoJCQkJLmNhdGNoKGUgPT4gewoJCQkJCQoJCQkJCWlmKGUucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewoJICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ291dCcpCgkgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CgkgICAgICAgICAgICAgICAgICAgIGxldCBwYXRoID0gd2luZG93LmxvY2F0aW9uLmhyZWYKCSAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJy8nKQoJICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJldlBhdGgnLCBwYXRoW3BhdGgubGVuZ3RoIC0gMV0pCgkgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoJ1Nlc2kgTG9naW4ga2FtdSB1ZGFoIGhhYmlzJywgJ2xvZ2luIGxhZ2kgeWFoJywgJ3dhcm5pbmcnKQoJICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKCSAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHN3YWwuY2xvc2UoKQoJICAgICAgICAgICAgICAgICAgICAJdGhpcy4kcm91dGVyLnJlcGxhY2Uoe3BhdGg6ICcvbG9naW4nfSkKCSAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCkKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCgkgICAgICAgICAgICAgICAgICB9KQoJICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewoJICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCdUaWRhayBiaXNhIHVwZGF0ZSBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YSB5YWgnLCAnZXJyb3InKQoJICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKCSAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHN3YWwuY2xvc2UoKQoJICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKQoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKCSAgICAgICAgICAgICAgICAgIH0pCgkgICAgICAgICAgICAgICAgfQoJCQkJCWVsc2UgewoJCQkJCQl0aGlzLmxhYmVsID0gJ1NpbXBhbiBQZXJ1YmFoYW4nCgkJCQkJCXRoaXMuJHN3YWwoJ1RpZGFrIGJpc2EgbWVuYW1iYWggZGF0YScsICdodWJ1bmdpIHBlbmdlbWJhbmdueWEgeWFoJywgJ2Vycm9yJykKCSAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CgkgICAgICAgICAgICAgICAgICAgIAl0aGlzLiRzd2FsLmNsb3NlKCkKCSAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCkKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCgkJCQkJCXJldHVybiBmYWxzZQoJCQkJCX0KCQkJCX0pCgkJCX0KCQl9Cgl9LAoJY3JlYXRlZCgpIHsKCQlnZXREYXRhcyh0aGlzLCBsb2NhbFN0b3JhZ2UuYmFzZV9hcGkgKyAnYmFyYW5nL3Blc2FuYW4vJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgewoJCQltZXRob2Q6J1BPU1QnLAoJCQloZWFkZXJzOiB7CgkJCQknQXV0aG9yaXphdGlvbic6ICdiZWFyZXIgJyArIGxvY2FsU3RvcmFnZS50b2tlbgoJCQl9CgkJfSwgJ3Bvc3QnKQoJCS50aGVuKHJlcyA9PiB7CgkJCXRoaXMuYmFyYW5nX3Blc2FuYW4gPSByZXMKCQl9KQoJCS5jYXRjaChlID0+IHsKCQkJdGhpcy4kc3dhbCgnVGlkYWsgYmlzYSBtZW5nYW1iaWwgZGF0YScsICdNb2hvIGh1YnVuZ2kgcGVuZ2VtYmFuZ255YS4uLicsICdlcnJvcicpCgkJCXNldFRpbWVvdXQoKCkgPT4gdGhpcy4kc3dhbC5jbG9zZSgpKQoJCQlyZXR1cm4gZmFsc2UKCQl9KQoJfQp9Cg=="},{"version":3,"sources":["EditBarangPesanan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditBarangPesanan.vue","sourceRoot":"src/views/produk","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<CCard>\r\n\t\t\t<CCardHeader>\r\n\t\t\t\t<p><b>Edit</b> Barang Pesanan</p>\r\n\t\t\t</CCardHeader>\r\n\t\t\t<CCardBody>\r\n\t\t\t\t<CForm class=\"mt-4\">\r\n\t\t\t\t\t<CRow class=\"mx-auto d-flex justify-content-center\">\r\n\t\t\t\t\t\t<CCol sm=\"8\">\r\n\r\n\t\t                    <CInput\r\n\t\t                        type=\"text\"\r\n\t\t                        :description=\"validator.no_msg\"\r\n\t\t                        :is-valid=\"validator.no\"\r\n\t\t                        @input=\"barang_pesanan.no.length < 1 ? validator.no = false : validator.no = true\"\r\n\t\t                        autocomplete=\"no\"\r\n\t\t                        label=\"No Pesanan\"\r\n\t\t                        horizontal\r\n\t\t                        placeholder=\"Masukan No Pesanan\"\r\n\t\t                        v-model=\"barang_pesanan.no\"\r\n\t\t                      />  \r\n\t\t                    <CInput\r\n\t\t                        type=\"date\"\r\n\t\t                        :description=\"validator.tanggal_msg\"\r\n\t\t                        :is-valid=\"validator.tanggal\"\r\n\t\t                        @input=\"barang_pesanan.tanggal.length < 1 ? validator.tanggal = false : validator.tanggal = true\"\r\n\t\t                        autocomplete=\"tanggal\"\r\n\t\t                        label=\"Tanggal\"\r\n\t\t                        horizontal\r\n\t\t                        placeholder=\"Masukan tanggal\"\r\n\t\t                        v-model=\"barang_pesanan.tanggal_pesanan\"\r\n\t\t                      />    \r\n\t\t                      <CTextarea\r\n\t\t                        label=\"Masukan Keterangan\"\r\n\t\t                        horizontal\r\n\t\t                        rows=\"3\"\r\n\t\t                        v-model=\"barang_pesanan.keterangan\"\r\n\t\t                      />    \r\n\t                        \r\n\t\t\t\t\t\t</CCol>\r\n\t\t\t\t\t</CRow>\r\n\t\t\t\t</CForm>\r\n\t\t\t</CCardBody>\r\n\t\t\t<CCardFooter class=\"d-flex justify-content-center mt-4\">\r\n\t\t\t\t<CButton type=\"submit\" color=\"light\" @click.prevent=\"updateBarangPesanan\">\r\n\t\t\t\t\t<i class=\"fa fa-edit mr-1\"></i>{{label}}\r\n\t\t\t\t</CButton>\r\n\t\t\t</CCardFooter>\r\n\t\t</CCard>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\n\timport {getDatas} from '@/containers/global-function.js'\r\n\texport default {\r\n\t\tname:\"EditBarangPesanan\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlabel: 'Simpan Perubahan',\r\n\t\t\t\tvalidator: {\r\n\t\t\t\t\tno:null,\r\n\t\t\t\t\tno_msg:null,\r\n\t\t\t\t\ttanggal:null,\r\n\t\t\t\t\ttanggal_msg:null\r\n\t\t\t\t},\r\n\t\t\t\tbarang_pesanan: {\r\n\t\t\t\t\tno: null,\r\n\t\t\t\t\ttanggal:null,\r\n\t\t\t\t\ttanggal_pesanan:null,\r\n\t\t\t\t\tketerangan:null\r\n\t\t\t\t},\r\n\t\t\t\tvalidMsg:false,\r\n\t\t\t\terrors:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\tupdateBarangPesanan() {\r\n\t\t\t\tthis.errors = []\r\n\t\t\t\tif(!this.barang_pesanan.no) {\r\n\t\t\t\t\tthis.validator.no = false\r\n\t\t            this.validator.no_msg = 'Harap isi no karyawan'\r\n\t\t            this.errors.push('no pesanan kosong')\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.barang_pesanan.tanggal_pesanan) {\r\n\t\t\t\t\tthis.validator.tanggal_pesanan = false\r\n\t\t            this.validator.tanggal_pesanan_msg = 'Harap isi tanggal_pesanan karyawan'\r\n\t\t            this.errors.push('tanggal pesanan kosong')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this.errors.length) {\r\n\t\t\t\t\tconsole.log(this.barang_pesanan)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.barang_pesanan.tanggal = this.barang_pesanan.tanggal_pesanan\r\n\t\t\t\t\tthis.label = 'Loading...'\r\n\t\t\t\t\tthis.$http.post(localStorage.base_api + 'barang/pesanan/edit/' + this.$route.params.id, this.barang_pesanan, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Authorization': 'bearer ' + localStorage.getItem('token')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tredirect:'follow'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.label = 'Simpan Perubahan'\r\n\t\t\t\t\t\tthis.$swal(res.data.message, 'Mohon tunggu sebentar...', 'success')\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.$swal.close()\r\n\t\t\t\t\t\t\tthis.$router.push('/barang-pesanan')\t\r\n\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(e.response.status == 401) {\r\n\t\t                  this.$store.dispatch('logout')\r\n\t\t                  .then(() => {\r\n\t\t                    let path = window.location.href\r\n\t\t                    path = path.split('/')\r\n\t\t                    localStorage.setItem('prevPath', path[path.length - 1])\r\n\t\t                    this.$swal('Sesi Login kamu udah habis', 'login lagi yah', 'warning')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    \tthis.$router.replace({path: '/login'})\r\n\t\t                    }, 1500)\r\n\t\t                    return false\r\n\t\t                  })\r\n\t\t                  .catch(e => {\r\n\t\t                    this.$swal('Tidak bisa update data', 'hubungi pengembangnya yah', 'error')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    }, 1500)\r\n\t\t                    return false\r\n\t\t                  })\r\n\t\t                }\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.label = 'Simpan Perubahan'\r\n\t\t\t\t\t\t\tthis.$swal('Tidak bisa menambah data', 'hubungi pengembangnya yah', 'error')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    }, 1500)\r\n\t\t                    return false\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tgetDatas(this, localStorage.base_api + 'barang/pesanan/' + this.$route.params.id, {\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Authorization': 'bearer ' + localStorage.token\r\n\t\t\t\t}\r\n\t\t\t}, 'post')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.barang_pesanan = res\r\n\t\t\t})\r\n\t\t\t.catch(e => {\r\n\t\t\t\tthis.$swal('Tidak bisa mengambil data', 'Moho hubungi pengembangnya...', 'error')\r\n\t\t\t\tsetTimeout(() => this.$swal.close())\r\n\t\t\t\treturn false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>"]}]}