{"remainingRequest":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\src\\views\\users\\AddUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\src\\views\\users\\AddUser.vue","mtime":1582455359688},{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1577457008845},{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577457009170},{"path":"D:\\xampp\\htdocs\\alkes\\version2\\alkes\\alkes\\node_modules\\vue-loader\\lib\\index.js","mtime":1577457139923}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0RGF0YXN9IGZyb20gJ0AvY29udGFpbmVycy9nbG9iYWwtZnVuY3Rpb24uanMnCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6IkFkZFVzZXIiLAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlsYWJlbDogJ1RhbWJhaCBVc2VyJywKCQkJdmFsaWRhdG9yOiB7CgkJCQllbWFpbDpudWxsLAoJCQkJZW1haWxfbXNnOm51bGwsCgkJCQlwYXNzd29yZDpudWxsLAoJCQkJcGFzc3dvcmRfbXNnOm51bGwKCQkJfSwKCQkJdXNlcjogewoJCQkJaWRfa2FyeWF3YW46bnVsbCwKCQkJCWVtYWlsOiBudWxsLAoJCQkJcGFzc3dvcmQ6bnVsbCwKCQkJCWxldmVsOm51bGwKCQkJfSwKCQkJa2FyeWF3YW46IFtdLAoJCQlkYXRhX2thcnlhd2FuOltdLAoJCQlqYWJhdGFuOiBbXSwKCQkJdmFsaWRNc2c6ZmFsc2UsCgkJCWVycm9yczpbXQoJCX0KCX0sCgltZXRob2RzOiB7CgkJZ2V0SmFiYXRhbigpIHsKCQkJdGhpcy5qYWJhdGFuLnB1c2goe3ZhbHVlOicwMDAnLCBsYWJlbDogJ1BpbGloIEphYmF0YW4nfSkKCQkJdGhpcy4kaHR0cC5nZXQobG9jYWxTdG9yYWdlLmJhc2VfYXBpICsgJ2phYmF0YW4nLCB7CiAgICAgIAkJCWhlYWRlcnM6IHsKICAgICAgCQkJCSdBdXRob3JpemF0aW9uJzogJ2JlYXJlciAnICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgIAkJCX0KICAgICAgCQl9KQogICAgICAJCS50aGVuKHJlcyA9PiB7CiAgICAgIAkJCS8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAJCQlmb3IobGV0IGkgPSAwO2kgPCByZXMuZGF0YS5sZW5ndGg7aSsrKSB7CiAgICAgIAkJCQlsZXQgb2JqID0ge30KICAgICAgCQkJCW9iai52YWx1ZSA9IHJlcy5kYXRhW2ldLmlkCiAgICAgIAkJCQlvYmoubGFiZWwgPSByZXMuZGF0YVtpXS5uYW1hCiAgICAgIAkJCQl0aGlzLmphYmF0YW4ucHVzaChvYmopCiAgICAgIAkJCX0KICAgICAgCQl9KQogICAgICAJCS5jYXRjaChlID0+IHsKICAgICAgCQkJYWxlcnQoJ01hYWYgbGFnaSBhZGEgZXJyb3Igc2VkaWtpdCA6RCcpCiAgICAgIAkJCWNvbnNvbGUuZXJyb3IoZS5yZXNwb25zZSkKICAgICAgCQkJcmV0dXJuIGZhbHNlCiAgICAgIAkJfSkKCQl9LAoJCWdldEthcnlhd2FuKCkgewoJCQl0aGlzLmthcnlhd2FuLnB1c2goe3ZhbHVlOiAnMDAwJywgbGFiZWw6ICdQaWxpaCBLYXJ5YXdhbid9KQoJCQlsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCkKCQkJaGVhZGVycy5hcHBlbmQoJ0F1dGhvcml6YXRpb24nLCAnYmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkKCQkJbGV0IG9wdGlvbnMgPSB7CgkJCQltZXRob2Q6J0dFVCcsCgkJCQloZWFkZXJzLAoJCQkJcmVkaXJlY3Q6J2ZvbGxvdycKCQkJfQoJCQlmZXRjaChsb2NhbFN0b3JhZ2UuYmFzZV9hcGkgKyAna2FyeWF3YW4nLCBvcHRpb25zKQoJCQkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKCQkJCgkJCS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLmRhdGFfa2FyeWF3YW4gPSByZXMKCQkJCWZvcihsZXQgaSA9IDA7aSA8IHJlcy5sZW5ndGg7aSsrKSB7CiAgICAgIAkJCQlsZXQgb2JqID0ge30KICAgICAgCQkJCW9iai52YWx1ZSA9IHJlc1tpXS5pZAogICAgICAJCQkJb2JqLmxhYmVsID0gcmVzW2ldLm5hbWFfa2FyeWF3YW4KICAgICAgCQkJCXRoaXMua2FyeWF3YW4ucHVzaChvYmopCiAgICAgIAkJCX0KCQkJfSkKCQkJLnRoZW4oKCkgPT4gewoJCQkJdGhpcy5nZXRKYWJhdGFuKCkKCQkJfSkKCQkJLmNhdGNoKGUgPT4gewoJCQkJYWxlcnQoJ01hYWYgbGFnaSBhZGEgZXJyb3Igc2VkaWtpdCA6RCcpCiAgICAgIAkJCWNvbnNvbGUuZXJyb3IoZSkKICAgICAgCQkJcmV0dXJuIGZhbHNlCgkJCX0pCgkJfSwKCQlhc3NpZ25LYXJ5YXdhbih2YWwpIHsKCQkJdGhpcy51c2VyLmlkX2thcnlhd2FuID0gdmFsCgkJCXRoaXMuZGF0YV9rYXJ5YXdhbi5mb3JFYWNoKChpdGVtLCBpKSA9PiB7CgkJCQlpZih2YWwgPT0gaXRlbS5pZCkgewoJCQkJCXRoaXMudXNlci5lbWFpbCA9IGl0ZW0uZW1haWwKCQkJCQlmZXRjaChsb2NhbFN0b3JhZ2UuYmFzZV9hcGkgKyAna2FyeWF3YW4vJyArIHZhbCwgewoJCQkJCQltZXRob2Q6J1BPU1QnLAoJCQkJCQloZWFkZXJzOiB7CgkJCQkJCQknQXV0aG9yaXphdGlvbic6ICdiZWFyZXIgJyArIGxvY2FsU3RvcmFnZS50b2tlbgoJCQkJCQl9CgkJCQkJfSkKCQkJCQkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQljb25zb2xlLndhcm4ocmVzKQoJCQkJCQl0aGlzLnVzZXIubGV2ZWwgPSByZXMuaWRfamFiYXRhbgoJCQkJCX0pCgkJCQl9CgoJCQl9KQoJCQljb25zb2xlLmxvZyh2YWwpCgkJfSwKCQlhc3NpZ25KYWJhdGFuKHZhbCkgewoJCQl0aGlzLnVzZXIubGV2ZWwgPSB2YWwKCQl9LAoJCWFkZFVzZXIoKSB7CgkJCXRoaXMuZXJyb3JzID0gW10KCQkJaWYoIXRoaXMudXNlci5lbWFpbCkgewoJCQkJdGhpcy52YWxpZGF0b3IuZW1haWwgPSBmYWxzZQoJICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IuZW1haWxfbXNnID0gJ0hhcmFwIGlzaSBlbWFpbCBrYXJ5YXdhbicKCSAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ2VtYWlsIGthcnlhd2FuIGtvc29uZycpCgkJCX0KCQkJaWYoIXRoaXMudXNlci5wYXNzd29yZCkgewoJCQkJdGhpcy52YWxpZGF0b3IucGFzc3dvcmQgPSBmYWxzZQoJICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IucGFzc3dvcmRfbXNnID0gJ0hhcmFwIGlzaSBwYXNzd29yZCBrYXJ5YXdhbicKCSAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ3Bhc3N3b3JkIGthcnlhd2FuIGtvc29uZycpCgkJCX0KCgoJCQlpZighdGhpcy51c2VyLmlkX2thcnlhd2FuIHx8IHRoaXMudXNlci5pZF9rYXJ5YXdhbiA9PSAnMDAwJykgewoJCQkJdGhpcy5lcnJvcnMucHVzaCgnSGFyYXAgcGlsaWgga2FyeWF3YW4nKQoJCQkJdGhpcy4kc3dhbCgnSGFyYXAgcGlsaWgga2FyeWF3YW4nLCAnJywgJ3dhcm5pbmcnKQoJCQkJc2V0VGltZW91dCgoKSA9PiB0aGlzLiRzd2FsLmNsb3NlKCksIDE1MDApCgkJCX0KCgkJCWlmKCF0aGlzLmVycm9ycy5sZW5ndGgpIHsKCQkJCWNvbnNvbGUubG9nKHRoaXMudXNlcikKCQkJCXRoaXMubGFiZWwgPSAnTG9hZGluZy4uLicKCQkJCXRoaXMuJGh0dHAucG9zdChsb2NhbFN0b3JhZ2UuYmFzZV9hcGkgKyAndXNlcicsIHRoaXMudXNlciwgewoJCQkJCWhlYWRlcnM6IHsKCQkJCQkJJ0F1dGhvcml6YXRpb24nOiAnYmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQoJCQkJCX0sCgkJCQkJcmVkaXJlY3Q6J2ZvbGxvdycKCQkJCX0pCgkJCQkudGhlbihyZXMgPT4gewoJCQkJCXRoaXMubGFiZWwgPSAnVGFtYmFoIFVzZXInCgkJCQkJdGhpcy4kc3dhbChyZXMuZGF0YS5tZXNzYWdlLCAnTW9ob24gdHVuZ2d1IHNlYmVudGFyLi4uJywgJ3N1Y2Nlc3MnKQoJCQkJCXNldFRpbWVvdXQoKCkgPT4gewoJCQkJCQl0aGlzLiRzd2FsLmNsb3NlKCkKCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goJy91c2VyJykJCgkJCQkJfSwgMTUwMCkKCQkJCQkKCQkJCX0pCgkJCQkuY2F0Y2goZSA9PiB7CgkJCQkJY29uc29sZS53YXJuKGUucmVzcG9uc2UpCgkJCQkJaWYoZS5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CgkgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9nb3V0JykKCSAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKCSAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGggPSB3aW5kb3cubG9jYXRpb24uaHJlZgoJICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zcGxpdCgnLycpCgkgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcmV2UGF0aCcsIHBhdGhbcGF0aC5sZW5ndGggLSAxXSkKCSAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgnU2VzaSBMb2dpbiBrYW11IHVkYWggaGFiaXMnLCAnbG9naW4gbGFnaSB5YWgnLCAnd2FybmluZycpCgkgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewoJICAgICAgICAgICAgICAgICAgICAJdGhpcy4kc3dhbC5jbG9zZSgpCgkgICAgICAgICAgICAgICAgICAgIAl0aGlzLiRyb3V0ZXIucmVwbGFjZSh7cGF0aDogJy9sb2dpbid9KQoJICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKQoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKCSAgICAgICAgICAgICAgICAgIH0pCgkgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7CgkgICAgICAgICAgICAgICAgICAJY29uc29sZS5sb2coZSkKCSAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgnVGlkYWsgYmlzYSBtZW5hbWJhaCBkYXRhJywgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YSB5YWgnLCAnZXJyb3InKQoJICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKCSAgICAgICAgICAgICAgICAgICAgCXRoaXMuJHN3YWwuY2xvc2UoKQoJICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKQoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKCSAgICAgICAgICAgICAgICAgIH0pCgkgICAgICAgICAgICAgICAgfQoJCQkJCWVsc2UgewoJCQkJCQl0aGlzLmxhYmVsID0gJ1RhbWJhaCBVc2VyJwoJCQkJCQlmb3IobGV0IGl0ZW0gaW4gZS5yZXNwb25zZS5kYXRhLmVycm1zZykgewoJCQkJCQkJY29uc29sZS5sb2coZS5yZXNwb25zZS5kYXRhLmVycm1zZ1tpdGVtXVswXSkKCQkJCQkJCXRoaXMuJHN3YWwoZS5yZXNwb25zZS5kYXRhLmVycm1zZ1tpdGVtXVswXSwgJ2h1YnVuZ2kgcGVuZ2VtYmFuZ255YSB5YWgnLCAnZXJyb3InKQoJCSAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CgkJICAgICAgICAgICAgICAgICAgICAJdGhpcy4kc3dhbC5jbG9zZSgpCgkJICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKQkKCQkJCQkJfQoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKCQkJCQl9CgkJCQl9KQoJCQl9CgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJaWYobG9jYWxTdG9yYWdlLmxldmVsICE9IDEgJiYgbG9jYWxTdG9yYWdlLmxldmVsICE9IDIpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goJy8nKQoJCX0KCQl0aGlzLmdldEthcnlhd2FuKCkKCX0KfQo="},{"version":3,"sources":["AddUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddUser.vue","sourceRoot":"src/views/users","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<CCard>\r\n\t\t\t<CCardHeader>\r\n\t\t\t\t<p><b>Tambah</b> User</p>\r\n\t\t\t</CCardHeader>\r\n\t\t\t<CCardBody>\r\n\t\t\t\t<CForm class=\"mt-4\">\r\n\t\t\t\t\t<CRow class=\"mx-auto d-flex justify-content-center\">\r\n\t\t\t\t\t\t<CCol sm=\"8\">\r\n\t\t\t\t\t\t\t  <p v-show=\"validMsg == true\" class=\"alert alert-success\">\r\n\t\t                        <small>Penambahan User berhasil!</small>\r\n\t\t                      </p>    \r\n\r\n\t\t                    <CSelect\r\n\t\t                    \tlabel=\"Nama Karyawan\"\r\n\t\t                    \thorizontal\r\n\t\t                    \t:options=\"karyawan\"\r\n\t\t                        description=\"Masukan Nama Karyawan\"\r\n\t\t                        autocomplete=\"nama_karyawan\"\r\n\t\t                        v-model=\"user.id_karyawan\"\r\n\t\t                        @update:value=\"assignKaryawan\"\r\n\t\t                      />\r\n\t\t                    <CInput\r\n\t\t                        type=\"email\"\r\n\t\t                        :description=\"validator.email_msg\"\r\n\t\t                        :is-valid=\"validator.email\"\r\n\t\t                        @input=\"user.email.length < 1 ? validator.email = false : validator.email = true\"\r\n\t\t                        autocomplete=\"email\"\r\n\t\t                        label=\"Email\"\r\n\t\t                        horizontal\r\n\t\t                        placeholder=\"Masukan Email\"\r\n\t\t                        v-model=\"user.email\"\r\n\t\t                        readonly\r\n\t\t                      />  \r\n\t\t                      <CInput\r\n\t\t                        type=\"password\"\r\n\t\t                        :description=\"validator.password_msg\"\r\n\t\t                        :is-valid=\"validator.password\"\r\n\t\t                        @input=\"user.password.length < 1 ? validator.password = false : validator.password = true\"\r\n\t\t                        autocomplete=\"password\"\r\n\t\t                        label=\"Password\"\r\n\t\t                        horizontal\r\n\t\t                        placeholder=\"Masukan Password\"\r\n\t\t                        v-model=\"user.password\"\r\n\t\t                      /> \r\n\t\t                      <CSelect\r\n\t\t                      label=\"Jabatan\"\r\n\t\t                      horizontal\r\n\t\t                      :options=\"jabatan\"\r\n\t\t                      @update:value=\"assignJabatan\"\r\n\t\t                      v-model=\"user.level\"\r\n\t\t                      readonly\r\n\t\t                      />\r\n\t                        \r\n\t\t\t\t\t\t</CCol>\r\n\t\t\t\t\t</CRow>\r\n\t\t\t\t</CForm>\r\n\t\t\t</CCardBody>\r\n\t\t\t<CCardFooter class=\"d-flex justify-content-center mt-4\">\r\n\t\t\t\t<CButton type=\"submit\" color=\"primary\" @click.prevent=\"addUser\">\r\n\t\t\t\t\t<i class=\"fa fa-plus mr-1\"></i>{{label}}\r\n\t\t\t\t</CButton>\r\n\t\t\t</CCardFooter>\r\n\t\t</CCard>\r\n\t</div>\r\n</template>\r\n<script type=\"text/javascript\">\r\n\timport {getDatas} from '@/containers/global-function.js'\r\n\texport default {\r\n\t\tname:\"AddUser\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlabel: 'Tambah User',\r\n\t\t\t\tvalidator: {\r\n\t\t\t\t\temail:null,\r\n\t\t\t\t\temail_msg:null,\r\n\t\t\t\t\tpassword:null,\r\n\t\t\t\t\tpassword_msg:null\r\n\t\t\t\t},\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tid_karyawan:null,\r\n\t\t\t\t\temail: null,\r\n\t\t\t\t\tpassword:null,\r\n\t\t\t\t\tlevel:null\r\n\t\t\t\t},\r\n\t\t\t\tkaryawan: [],\r\n\t\t\t\tdata_karyawan:[],\r\n\t\t\t\tjabatan: [],\r\n\t\t\t\tvalidMsg:false,\r\n\t\t\t\terrors:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetJabatan() {\r\n\t\t\t\tthis.jabatan.push({value:'000', label: 'Pilih Jabatan'})\r\n\t\t\t\tthis.$http.get(localStorage.base_api + 'jabatan', {\r\n\t      \t\t\theaders: {\r\n\t      \t\t\t\t'Authorization': 'bearer ' + localStorage.token\r\n\t      \t\t\t}\r\n\t      \t\t})\r\n\t      \t\t.then(res => {\r\n\t      \t\t\t// console.log(res.data)\r\n\t      \t\t\tfor(let i = 0;i < res.data.length;i++) {\r\n\t      \t\t\t\tlet obj = {}\r\n\t      \t\t\t\tobj.value = res.data[i].id\r\n\t      \t\t\t\tobj.label = res.data[i].nama\r\n\t      \t\t\t\tthis.jabatan.push(obj)\r\n\t      \t\t\t}\r\n\t      \t\t})\r\n\t      \t\t.catch(e => {\r\n\t      \t\t\talert('Maaf lagi ada error sedikit :D')\r\n\t      \t\t\tconsole.error(e.response)\r\n\t      \t\t\treturn false\r\n\t      \t\t})\r\n\t\t\t},\r\n\t\t\tgetKaryawan() {\r\n\t\t\t\tthis.karyawan.push({value: '000', label: 'Pilih Karyawan'})\r\n\t\t\t\tlet headers = new Headers()\r\n\t\t\t\theaders.append('Authorization', 'bearer ' + localStorage.getItem('token'))\r\n\t\t\t\tlet options = {\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\theaders,\r\n\t\t\t\t\tredirect:'follow'\r\n\t\t\t\t}\r\n\t\t\t\tfetch(localStorage.base_api + 'karyawan', options)\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.data_karyawan = res\r\n\t\t\t\t\tfor(let i = 0;i < res.length;i++) {\r\n\t      \t\t\t\tlet obj = {}\r\n\t      \t\t\t\tobj.value = res[i].id\r\n\t      \t\t\t\tobj.label = res[i].nama_karyawan\r\n\t      \t\t\t\tthis.karyawan.push(obj)\r\n\t      \t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.getJabatan()\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\talert('Maaf lagi ada error sedikit :D')\r\n\t      \t\t\tconsole.error(e)\r\n\t      \t\t\treturn false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tassignKaryawan(val) {\r\n\t\t\t\tthis.user.id_karyawan = val\r\n\t\t\t\tthis.data_karyawan.forEach((item, i) => {\r\n\t\t\t\t\tif(val == item.id) {\r\n\t\t\t\t\t\tthis.user.email = item.email\r\n\t\t\t\t\t\tfetch(localStorage.base_api + 'karyawan/' + val, {\r\n\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Authorization': 'bearer ' + localStorage.token\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.warn(res)\r\n\t\t\t\t\t\t\tthis.user.level = res.id_jabatan\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(val)\r\n\t\t\t},\r\n\t\t\tassignJabatan(val) {\r\n\t\t\t\tthis.user.level = val\r\n\t\t\t},\r\n\t\t\taddUser() {\r\n\t\t\t\tthis.errors = []\r\n\t\t\t\tif(!this.user.email) {\r\n\t\t\t\t\tthis.validator.email = false\r\n\t\t            this.validator.email_msg = 'Harap isi email karyawan'\r\n\t\t            this.errors.push('email karyawan kosong')\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.user.password) {\r\n\t\t\t\t\tthis.validator.password = false\r\n\t\t            this.validator.password_msg = 'Harap isi password karyawan'\r\n\t\t            this.errors.push('password karyawan kosong')\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif(!this.user.id_karyawan || this.user.id_karyawan == '000') {\r\n\t\t\t\t\tthis.errors.push('Harap pilih karyawan')\r\n\t\t\t\t\tthis.$swal('Harap pilih karyawan', '', 'warning')\r\n\t\t\t\t\tsetTimeout(() => this.$swal.close(), 1500)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!this.errors.length) {\r\n\t\t\t\t\tconsole.log(this.user)\r\n\t\t\t\t\tthis.label = 'Loading...'\r\n\t\t\t\t\tthis.$http.post(localStorage.base_api + 'user', this.user, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Authorization': 'bearer ' + localStorage.getItem('token')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tredirect:'follow'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.label = 'Tambah User'\r\n\t\t\t\t\t\tthis.$swal(res.data.message, 'Mohon tunggu sebentar...', 'success')\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.$swal.close()\r\n\t\t\t\t\t\t\tthis.$router.push('/user')\t\r\n\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tconsole.warn(e.response)\r\n\t\t\t\t\t\tif(e.response.status == 401) {\r\n\t\t                  this.$store.dispatch('logout')\r\n\t\t                  .then(() => {\r\n\t\t                    let path = window.location.href\r\n\t\t                    path = path.split('/')\r\n\t\t                    localStorage.setItem('prevPath', path[path.length - 1])\r\n\t\t                    this.$swal('Sesi Login kamu udah habis', 'login lagi yah', 'warning')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    \tthis.$router.replace({path: '/login'})\r\n\t\t                    }, 1500)\r\n\t\t                    return false\r\n\t\t                  })\r\n\t\t                  .catch(e => {\r\n\t\t                  \tconsole.log(e)\r\n\t\t                    this.$swal('Tidak bisa menambah data', 'hubungi pengembangnya yah', 'error')\r\n\t\t                    setTimeout(() => {\r\n\t\t                    \tthis.$swal.close()\r\n\t\t                    }, 1500)\r\n\t\t                    return false\r\n\t\t                  })\r\n\t\t                }\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.label = 'Tambah User'\r\n\t\t\t\t\t\t\tfor(let item in e.response.data.errmsg) {\r\n\t\t\t\t\t\t\t\tconsole.log(e.response.data.errmsg[item][0])\r\n\t\t\t\t\t\t\t\tthis.$swal(e.response.data.errmsg[item][0], 'hubungi pengembangnya yah', 'error')\r\n\t\t\t                    setTimeout(() => {\r\n\t\t\t                    \tthis.$swal.close()\r\n\t\t\t                    }, 1500)\t\r\n\t\t\t\t\t\t\t}\r\n\t\t                    return false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(localStorage.level != 1 && localStorage.level != 2) {\r\n\t\t\t\tthis.$router.push('/')\r\n\t\t\t}\r\n\t\t\tthis.getKaryawan()\r\n\t\t}\r\n\t}\r\n</script>"]}]}